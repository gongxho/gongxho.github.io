"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[20039],{80857:(n,a,e)=>{e.r(a),e.d(a,{default:()=>b});var s=e(60329);const t=(0,s._)("p",null,"è¿™ä¸ª Action å…è®¸æ‚¨ç¼“å­˜ä¾èµ–é¡¹å’Œæ„å»ºè¾“å‡ºå†…å®¹ä»¥ç¼©çŸ­ Workflow æ‰§è¡Œæ—¶é—´ã€‚",-1),c=(0,s._)("p",null,"æ—¥å¸¸æœ€å¤šä½¿ç”¨çš„å°±æ˜¯ç¼“å­˜ä¾èµ–é¡¹ï¼Œåœ¨æ¯ä¸ªå·¥ä½œæµç¨‹ä¸­ï¼Œå°†å®‰è£…åçš„ä¾èµ–é€šè¿‡å®‰è£…åç”Ÿæˆçš„ä¾èµ–ç‰ˆæœ¬æ–‡ä»¶çš„å“ˆå¸Œå€¼è¿›è¡Œç¼“å­˜ã€‚",-1),l=(0,s._)("p",null,"å½“å‰å·¥ä½œæµç¨‹çš„ç‰ˆæœ¬æ–‡ä»¶å“ˆå¸Œå€¼ä¸å†å²ç¼“å­˜ä¸­çš„æŸä¸€é¡¹å®Œå…¨ç›¸åŒæ—¶ï¼Œç›´æ¥è½½å…¥è¿™äº›ä¾èµ–é¡¹ç¼“å­˜ï¼Œè¿™æ ·å°±å¯ä»¥å…å»å®‰è£…æ­¥éª¤ã€‚",-1),i={class:"custom-container info"},p=(0,s._)("p",{class:"custom-container-title"},"ç¼“å­˜ä¾èµ–",-1),o={href:"https://docs.github.com/cn/actions/guides/caching-dependencies-to-speed-up-workflows",target:"_blank",rel:"noopener noreferrer"},r=(0,s._)("h2",{id:"é…ç½®é¡¹",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#é…ç½®é¡¹","aria-hidden":"true"},"#"),(0,s.Uk)(" é…ç½®é¡¹")],-1),u=(0,s._)("h3",{id:"path",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#path","aria-hidden":"true"},"#"),(0,s.Uk)(" path")],-1),d=(0,s._)("p",null,"è¦ç¼“å­˜å’Œè¿˜åŸçš„æ–‡ä»¶ï¼Œç›®å½•å’Œé€šé…ç¬¦æ¨¡å¼çš„åˆ—è¡¨ã€‚",-1),h={class:"custom-container info"},k=(0,s._)("p",{class:"custom-container-title"},"ç›¸å…³ä¿¡æ¯",-1),m={href:"https://github.com/actions/toolkit/tree/main/packages/glob",target:"_blank",rel:"noopener noreferrer"},v=(0,s.uE)('<h3 id="key" tabindex="-1"><a class="header-anchor" href="#key" aria-hidden="true">#</a> key</h3><p>ç”¨äºä¿å­˜ç¼“å­˜ä¸è¿˜åŸç¼“å­˜çš„çš„å¯†é’¥</p><h3 id="restore-keys" tabindex="-1"><a class="header-anchor" href="#restore-keys" aria-hidden="true">#</a> restore-keys</h3><p>å½“ key æ²¡æœ‰å‘½ä¸­ç¼“å­˜æ˜¯ç”¨äºæ¢å¤ç¼“å­˜é”®å€¼çš„æœ‰åºåˆ—è¡¨</p><h2 id="è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#è¾“å‡º" aria-hidden="true">#</a> è¾“å‡º</h2><p><code>cache-hit</code>: ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨æ˜æ˜¯å¦æ‰¾åˆ°ä¸è¯¥é”®å®Œå…¨åŒ¹é…çš„å€¼</p><h2 id="ç¼“å­˜èŒƒå›´" tabindex="-1"><a class="header-anchor" href="#ç¼“å­˜èŒƒå›´" aria-hidden="true">#</a> ç¼“å­˜èŒƒå›´</h2><p>ç¼“å­˜çš„ä½œç”¨åŸŸä¸ºç‰¹å®šçš„é”®å’Œåˆ†æ”¯ã€‚é»˜è®¤åˆ†æ”¯ç¼“å­˜å¯ç”¨äºå…¶ä»–åˆ†æ”¯ã€‚</p><h2 id="æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹" aria-hidden="true">#</a> æ¡ˆä¾‹</h2><p>Yarn:</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v3\n  <span class="token comment"># ä½¿ç”¨æ­¤ id è·å¾— `cache-hit`</span>\n  <span class="token comment"># (`steps.yarn-cache.outputs.cache-hit != &#39;true&#39;`)</span>\n  <span class="token key atrule">id</span><span class="token punctuation">:</span> yarn<span class="token punctuation">-</span>cache\n  <span class="token key atrule">with</span><span class="token punctuation">:</span>\n    <span class="token key atrule">path</span><span class="token punctuation">:</span> node_modules/\n    <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>yarn<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles(&#39;<span class="token important">**/yarn.lock&#39;)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>\n    <span class="token key atrule">restore-keys</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">\n      ${{ runner.os }}-yarn-</span>\n\n<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Dependencies\n  <span class="token key atrule">if</span><span class="token punctuation">:</span> steps.yarn<span class="token punctuation">-</span>cache.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> &#39;true&#39;\n  <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn install\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åˆ›å»ºä¸€ä¸ªç¼“å­˜é”®" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªç¼“å­˜é”®" aria-hidden="true">#</a> åˆ›å»ºä¸€ä¸ªç¼“å­˜é”®</h2><p>ç¼“å­˜é”®å¯ä»¥åŒ…æ‹¬ GitHub Actions æ”¯æŒçš„ä»»ä½•ä¸Šä¸‹æ–‡ï¼Œå‡½æ•°ï¼Œæ–‡å­—å’Œè¿ç®—ç¬¦ã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>hashFiles</code> åŠŸèƒ½å¯è®©æ‚¨åœ¨ä¾å­˜å…³ç³»æ›´æ”¹æ—¶åˆ›å»ºæ–°çš„ç¼“å­˜ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v3\n  <span class="token key atrule">id</span><span class="token punctuation">:</span> yarn<span class="token punctuation">-</span>cache\n  <span class="token key atrule">with</span><span class="token punctuation">:</span>\n    <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">\n      node_modules/</span>\n    <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles(&#39;<span class="token important">**/yarn.lock&#39;)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ©ç”¨ cache-hit è¾“å‡ºï¼Œå½“å¯¹åº”é”®å‘½ä¸­ç‰¹å®šç¼“å­˜åï¼Œå¯ä»¥è·³è¿‡åç»­æ­¥éª¤ (ä¾‹å¦‚ï¼Œå®‰è£…æˆ–æ„å»º) ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Dependencies\n  <span class="token key atrule">if</span><span class="token punctuation">:</span> steps.yarn<span class="token punctuation">-</span>cache.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> &#39;true&#39;\n  <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn install\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼“å­˜é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#ç¼“å­˜é™åˆ¶" aria-hidden="true">#</a> ç¼“å­˜é™åˆ¶</h2><p>ä¸€ä¸ªå­˜å‚¨åº“æœ€å¤šå¯ä»¥æœ‰ 5GB çš„ç¼“å­˜ã€‚è¾¾åˆ° 5GB é™åˆ¶åï¼Œå°†æ ¹æ®ä¸Šæ¬¡è®¿é—®ç¼“å­˜çš„æ—¶é—´é©±é€è¾ƒæ—©çš„ç¼“å­˜ã€‚è¿‡å»æœªè®¿é—®çš„ç¼“å­˜ä¹Ÿå°†è¢«è‡ªåŠ¨åˆ é™¤ã€‚</p><h2 id="ä»“åº“" tabindex="-1"><a class="header-anchor" href="#ä»“åº“" aria-hidden="true">#</a> ä»“åº“</h2>',20),y={href:"https://github.com/actions/cache",target:"_blank",rel:"noopener noreferrer"},g={},b=(0,e(13860).Z)(g,[["render",function(n,a){const e=(0,s.up)("ExternalLinkIcon");return(0,s.wg)(),(0,s.iD)("div",null,[t,c,l,(0,s._)("div",i,[p,(0,s._)("p",null,[(0,s.Uk)("å…³äºç¼“å­˜ä¾èµ–çš„æ–‡æ¡£ï¼Œè¯¦è§ "),(0,s._)("a",o,[(0,s.Uk)("ç¼“å­˜ä¾èµ–é¡¹ä»¥åŠ å¿«å·¥ä½œæµç¨‹"),(0,s.Wm)(e)]),(0,s.Uk)("ã€‚")])]),(0,s.kq)(" more "),r,u,d,(0,s._)("div",h,[k,(0,s._)("p",null,[(0,s.Uk)("æ”¯æŒçš„ glob æ¨¡å¼ï¼Œè¯·å‚è§ "),(0,s._)("a",m,[(0,s.Uk)("@actions/glob"),(0,s.Wm)(e)]),(0,s.Uk)("ã€‚")])]),v,(0,s._)("p",null,[(0,s._)("a",y,[(0,s.Uk)("https://github.com/actions/cache"),(0,s.Wm)(e)])])])}]])},13860:(n,a)=>{a.Z=(n,a)=>{const e=n.__vccOpts||n;for(const[n,s]of a)e[n]=s;return e}},16758:(n,a,e)=>{e.r(a),e.d(a,{data:()=>s});const s=JSON.parse('{"key":"v-5dad642c","path":"/code/github/actions/cache.html","title":"cache","lang":"zh-CN","frontmatter":{"title":"cache","date":"2021-02-20T00:00:00.000Z","category":["GitHub"],"tag":["action","workflow"],"summary":"è¿™ä¸ª Action å…è®¸æ‚¨ç¼“å­˜ä¾èµ–é¡¹å’Œæ„å»ºè¾“å‡ºå†…å®¹ä»¥ç¼©çŸ­ Workflow æ‰§è¡Œæ—¶é—´ã€‚\\næ—¥å¸¸æœ€å¤šä½¿ç”¨çš„å°±æ˜¯ç¼“å­˜ä¾èµ–é¡¹ï¼Œåœ¨æ¯ä¸ªå·¥ä½œæµç¨‹ä¸­ï¼Œå°†å®‰è£…åçš„ä¾èµ–é€šè¿‡å®‰è£…åç”Ÿæˆçš„ä¾èµ–ç‰ˆæœ¬æ–‡ä»¶çš„å“ˆå¸Œå€¼è¿›è¡Œç¼“å­˜ã€‚\\nå½“å‰å·¥ä½œæµç¨‹çš„ç‰ˆæœ¬æ–‡ä»¶å“ˆå¸Œå€¼ä¸å†å²ç¼“å­˜ä¸­çš„æŸä¸€é¡¹å®Œå…¨ç›¸åŒæ—¶ï¼Œç›´æ¥è½½å…¥è¿™äº›ä¾èµ–é¡¹ç¼“å­˜ï¼Œè¿™æ ·å°±å¯ä»¥å…å»å®‰è£…æ­¥éª¤ã€‚\\nç¼“å­˜ä¾èµ–\\nå…³äºç¼“å­˜ä¾èµ–çš„æ–‡æ¡£ï¼Œè¯¦è§ ç¼“å­˜ä¾èµ–é¡¹ä»¥åŠ å¿«å·¥ä½œæµç¨‹ã€‚\\n\\n","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/code/github/actions/cache.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"cache"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-06-27T09:33:50.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"action"}],["meta",{"property":"article:tag","content":"workflow"}],["meta",{"property":"article:published_time","content":"2021-02-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-06-27T09:33:50.000Z"}]]},"excerpt":"<p>è¿™ä¸ª Action å…è®¸æ‚¨ç¼“å­˜ä¾èµ–é¡¹å’Œæ„å»ºè¾“å‡ºå†…å®¹ä»¥ç¼©çŸ­ Workflow æ‰§è¡Œæ—¶é—´ã€‚</p>\\n<p>æ—¥å¸¸æœ€å¤šä½¿ç”¨çš„å°±æ˜¯ç¼“å­˜ä¾èµ–é¡¹ï¼Œåœ¨æ¯ä¸ªå·¥ä½œæµç¨‹ä¸­ï¼Œå°†å®‰è£…åçš„ä¾èµ–é€šè¿‡å®‰è£…åç”Ÿæˆçš„ä¾èµ–ç‰ˆæœ¬æ–‡ä»¶çš„å“ˆå¸Œå€¼è¿›è¡Œç¼“å­˜ã€‚</p>\\n<p>å½“å‰å·¥ä½œæµç¨‹çš„ç‰ˆæœ¬æ–‡ä»¶å“ˆå¸Œå€¼ä¸å†å²ç¼“å­˜ä¸­çš„æŸä¸€é¡¹å®Œå…¨ç›¸åŒæ—¶ï¼Œç›´æ¥è½½å…¥è¿™äº›ä¾èµ–é¡¹ç¼“å­˜ï¼Œè¿™æ ·å°±å¯ä»¥å…å»å®‰è£…æ­¥éª¤ã€‚</p>\\n<div class=\\"custom-container info\\"><p class=\\"custom-container-title\\">ç¼“å­˜ä¾èµ–</p>\\n<p>å…³äºç¼“å­˜ä¾èµ–çš„æ–‡æ¡£ï¼Œè¯¦è§ <a href=\\"https://docs.github.com/cn/actions/guides/caching-dependencies-to-speed-up-workflows\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">ç¼“å­˜ä¾èµ–é¡¹ä»¥åŠ å¿«å·¥ä½œæµç¨‹<ExternalLinkIcon/></a>ã€‚</p>\\n</div>\\n","headers":[{"level":2,"title":"é…ç½®é¡¹","slug":"é…ç½®é¡¹","children":[{"level":3,"title":"path","slug":"path","children":[]},{"level":3,"title":"key","slug":"key","children":[]},{"level":3,"title":"restore-keys","slug":"restore-keys","children":[]}]},{"level":2,"title":"è¾“å‡º","slug":"è¾“å‡º","children":[]},{"level":2,"title":"ç¼“å­˜èŒƒå›´","slug":"ç¼“å­˜èŒƒå›´","children":[]},{"level":2,"title":"æ¡ˆä¾‹","slug":"æ¡ˆä¾‹","children":[]},{"level":2,"title":"åˆ›å»ºä¸€ä¸ªç¼“å­˜é”®","slug":"åˆ›å»ºä¸€ä¸ªç¼“å­˜é”®","children":[]},{"level":2,"title":"ç¼“å­˜é™åˆ¶","slug":"ç¼“å­˜é™åˆ¶","children":[]},{"level":2,"title":"ä»“åº“","slug":"ä»“åº“","children":[]}],"git":{"createdTime":1656322430000,"updatedTime":1656322430000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":1.77,"words":532},"filePathRelative":"code/github/actions/cache.md","localizedDate":"2021å¹´2æœˆ20æ—¥"}')}}]);