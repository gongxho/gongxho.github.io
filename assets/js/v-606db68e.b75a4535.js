"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[40493],{59767:(e,n,s)=>{s.r(n),s.d(n,{default:()=>U});var a=s(60329);const t=(0,a.uE)('<p>åœ¨æœ¬èŠ‚æ­£å¼å¼€å§‹å‰ï¼Œè®©æˆ‘ä»¬å¤ä¹ ä¸‹è¿™ä¸€ç« åˆ°ç›®å‰ä¸ºæ­¢æ‰€å­¦çš„ã€‚</p><p><code>Renderer</code>å·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸º<code>commit</code>é˜¶æ®µã€‚<code>commit</code>é˜¶æ®µå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªå­é˜¶æ®µï¼š</p><ul><li><p>before mutationé˜¶æ®µï¼ˆæ‰§è¡Œ<code>DOM</code>æ“ä½œå‰ï¼‰</p></li><li><p>mutationé˜¶æ®µï¼ˆæ‰§è¡Œ<code>DOM</code>æ“ä½œï¼‰</p></li><li><p>layouté˜¶æ®µï¼ˆæ‰§è¡Œ<code>DOM</code>æ“ä½œåï¼‰</p></li></ul><p>æœ¬èŠ‚æˆ‘ä»¬çœ‹çœ‹<code>before mutationé˜¶æ®µ</code>ï¼ˆæ‰§è¡Œ<code>DOM</code>æ“ä½œå‰ï¼‰éƒ½åšäº†ä»€ä¹ˆã€‚</p><h2 id="æ¦‚è§ˆ" tabindex="-1"><a class="header-anchor" href="#æ¦‚è§ˆ" aria-hidden="true">#</a> æ¦‚è§ˆ</h2><p><code>before mutationé˜¶æ®µ</code>çš„ä»£ç å¾ˆçŸ­ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±æ˜¯éå†<code>effectList</code>å¹¶è°ƒç”¨<code>commitBeforeMutationEffects</code>å‡½æ•°å¤„ç†ã€‚</p>',6),o={href:"https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberWorkLoop.new.js#L2104-L2127",target:"_blank",rel:"noopener noreferrer"},c=(0,a.uE)('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ä¿å­˜ä¹‹å‰çš„ä¼˜å…ˆçº§ï¼Œä»¥åŒæ­¥ä¼˜å…ˆçº§æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•åæ¢å¤ä¹‹å‰ä¼˜å…ˆçº§</span>\n<span class="token keyword">const</span> previousLanePriority <span class="token operator">=</span> <span class="token function">getCurrentUpdateLanePriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">setCurrentUpdateLanePriority</span><span class="token punctuation">(</span>SyncLanePriority<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// å°†å½“å‰ä¸Šä¸‹æ–‡æ ‡è®°ä¸ºCommitContextï¼Œä½œä¸ºcommité˜¶æ®µçš„æ ‡å¿—</span>\n<span class="token keyword">const</span> prevExecutionContext <span class="token operator">=</span> executionContext<span class="token punctuation">;</span>\nexecutionContext <span class="token operator">|=</span> CommitContext<span class="token punctuation">;</span>\n\n<span class="token comment">// å¤„ç†focusçŠ¶æ€</span>\nfocusedInstanceHandle <span class="token operator">=</span> <span class="token function">prepareForCommit</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>containerInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>\nshouldFireAfterActiveInstanceBlur <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token comment">// beforeMutationé˜¶æ®µçš„ä¸»å‡½æ•°</span>\n<span class="token function">commitBeforeMutationEffects</span><span class="token punctuation">(</span>finishedWork<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nfocusedInstanceHandle <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬é‡ç‚¹å…³æ³¨<code>beforeMutation</code>é˜¶æ®µçš„ä¸»å‡½æ•°<code>commitBeforeMutationEffects</code>åšäº†ä»€ä¹ˆã€‚</p><h2 id="commitbeforemutationeffects" tabindex="-1"><a class="header-anchor" href="#commitbeforemutationeffects" aria-hidden="true">#</a> commitBeforeMutationEffects</h2><p>å¤§ä½“ä»£ç é€»è¾‘ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">commitBeforeMutationEffects</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">while</span> <span class="token punctuation">(</span>nextEffect <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> current <span class="token operator">=</span> nextEffect<span class="token punctuation">.</span>alternate<span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>shouldFireAfterActiveInstanceBlur <span class="token operator">&amp;&amp;</span> focusedInstanceHandle <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// ...focus blurç›¸å…³</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">const</span> effectTag <span class="token operator">=</span> nextEffect<span class="token punctuation">.</span>effectTag<span class="token punctuation">;</span>\n\n    <span class="token comment">// è°ƒç”¨getSnapshotBeforeUpdate</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>effectTag <span class="token operator">&amp;</span> Snapshot<span class="token punctuation">)</span> <span class="token operator">!==</span> NoEffect<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">commitBeforeMutationEffectOnFiber</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> nextEffect<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// è°ƒåº¦useEffect</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>effectTag <span class="token operator">&amp;</span> Passive<span class="token punctuation">)</span> <span class="token operator">!==</span> NoEffect<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>rootDoesHavePassiveEffects<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        rootDoesHavePassiveEffects <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n        <span class="token function">scheduleCallback</span><span class="token punctuation">(</span>NormalSchedulerPriority<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n          <span class="token function">flushPassiveEffects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    nextEffect <span class="token operator">=</span> nextEffect<span class="token punctuation">.</span>nextEffect<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•´ä½“å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p><ol><li><p>å¤„ç†<code>DOMèŠ‚ç‚¹</code>æ¸²æŸ“/åˆ é™¤åçš„ <code>autoFocus</code>ã€<code>blur</code> é€»è¾‘ã€‚</p></li><li><p>è°ƒç”¨<code>getSnapshotBeforeUpdate</code>ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p></li><li><p>è°ƒåº¦<code>useEffect</code>ã€‚</p></li></ol><p>æˆ‘ä»¬è®²è§£ä¸‹2ã€3ä¸¤ç‚¹ã€‚</p><h2 id="è°ƒç”¨getsnapshotbeforeupdate" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨getsnapshotbeforeupdate" aria-hidden="true">#</a> è°ƒç”¨getSnapshotBeforeUpdate</h2><p><code>commitBeforeMutationEffectOnFiber</code>æ˜¯<code>commitBeforeMutationLifeCycles</code>çš„åˆ«åã€‚</p><p>åœ¨è¯¥æ–¹æ³•å†…ä¼šè°ƒç”¨<code>getSnapshotBeforeUpdate</code>ã€‚</p>',11),p={href:"https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberCommitWork.old.js#L222",target:"_blank",rel:"noopener noreferrer"},i=(0,a.uE)("<p>ä»<code>React</code>v16å¼€å§‹ï¼Œ<code>componentWillXXX</code>é’©å­å‰å¢åŠ äº†<code>UNSAFE_</code>å‰ç¼€ã€‚</p><p>ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸º<code>Stack Reconciler</code>é‡æ„ä¸º<code>Fiber Reconciler</code>åï¼Œ<code>renderé˜¶æ®µ</code>çš„ä»»åŠ¡å¯èƒ½ä¸­æ–­/é‡æ–°å¼€å§‹ï¼Œå¯¹åº”çš„ç»„ä»¶åœ¨<code>renderé˜¶æ®µ</code>çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆå³<code>componentWillXXX</code>ï¼‰å¯èƒ½è§¦å‘å¤šæ¬¡ã€‚</p><p>è¿™ç§è¡Œä¸ºå’Œ<code>React</code>v15ä¸ä¸€è‡´ï¼Œæ‰€ä»¥æ ‡è®°ä¸º<code>UNSAFE_</code>ã€‚</p>",3),l={href:"https://juejin.im/post/6847902224287285255#comment",target:"_blank",rel:"noopener noreferrer"},u=(0,a.uE)('<p>ä¸ºæ­¤ï¼Œ<code>React</code>æä¾›äº†æ›¿ä»£çš„ç”Ÿå‘½å‘¨æœŸé’©å­<code>getSnapshotBeforeUpdate</code>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹è§ï¼Œ<code>getSnapshotBeforeUpdate</code>æ˜¯åœ¨<code>commité˜¶æ®µ</code>å†…çš„<code>before mutationé˜¶æ®µ</code>è°ƒç”¨çš„ï¼Œç”±äº<code>commité˜¶æ®µ</code>æ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥ä¸ä¼šé‡åˆ°å¤šæ¬¡è°ƒç”¨çš„é—®é¢˜ã€‚</p><h2 id="è°ƒåº¦useeffect" tabindex="-1"><a class="header-anchor" href="#è°ƒåº¦useeffect" aria-hidden="true">#</a> è°ƒåº¦<code>useEffect</code></h2><p>åœ¨è¿™å‡ è¡Œä»£ç å†…ï¼Œ<code>scheduleCallback</code>æ–¹æ³•ç”±<code>Scheduler</code>æ¨¡å—æä¾›ï¼Œç”¨äºä»¥æŸä¸ªä¼˜å…ˆçº§å¼‚æ­¥è°ƒåº¦ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// è°ƒåº¦useEffect</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>effectTag <span class="token operator">&amp;</span> Passive<span class="token punctuation">)</span> <span class="token operator">!==</span> NoEffect<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>rootDoesHavePassiveEffects<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    rootDoesHavePassiveEffects <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n    <span class="token function">scheduleCallback</span><span class="token punctuation">(</span>NormalSchedulerPriority<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n      <span class="token comment">// è§¦å‘useEffect</span>\n      <span class="token function">flushPassiveEffects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ­¤å¤„ï¼Œè¢«å¼‚æ­¥è°ƒåº¦çš„å›è°ƒå‡½æ•°å°±æ˜¯è§¦å‘<code>useEffect</code>çš„æ–¹æ³•<code>flushPassiveEffects</code>ã€‚</p><p>æˆ‘ä»¬æ¥ä¸‹æ¥è®¨è®º<code>useEffect</code>å¦‚ä½•è¢«å¼‚æ­¥è°ƒåº¦ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦å¼‚æ­¥ï¼ˆè€Œä¸æ˜¯åŒæ­¥ï¼‰è°ƒåº¦ã€‚</p><h3 id="å¦‚ä½•å¼‚æ­¥è°ƒåº¦" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å¼‚æ­¥è°ƒåº¦" aria-hidden="true">#</a> å¦‚ä½•å¼‚æ­¥è°ƒåº¦</h3><p>åœ¨<code>flushPassiveEffects</code>æ–¹æ³•å†…éƒ¨ä¼šä»å…¨å±€å˜é‡<code>rootWithPendingPassiveEffects</code>è·å–<code>effectList</code>ã€‚</p>',9),d=(0,a._)("code",null,"flushPassiveEffects",-1),r=(0,a._)("code",null,"effectList",-1),f=(0,a._)("code",null,"FiberèŠ‚ç‚¹",-1),k=(0,a.uE)("<ul><li>æ’å…¥<code>DOMèŠ‚ç‚¹</code>ï¼ˆPlacementï¼‰</li><li>æ›´æ–°<code>DOMèŠ‚ç‚¹</code>ï¼ˆUpdateï¼‰</li><li>åˆ é™¤<code>DOMèŠ‚ç‚¹</code>ï¼ˆDeletionï¼‰</li></ul><p>é™¤æ­¤å¤–ï¼Œå½“ä¸€ä¸ª<code>FunctionComponent</code>å«æœ‰<code>useEffect</code>æˆ–<code>useLayoutEffect</code>ï¼Œä»–å¯¹åº”çš„<code>FiberèŠ‚ç‚¹</code>ä¹Ÿä¼šè¢«èµ‹å€¼<code>effectTag</code>ã€‚</p>",2),m={href:"https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactHookEffectTags.js",target:"_blank",rel:"noopener noreferrer"},v=(0,a._)("code",null,"hook",-1),b=(0,a._)("code",null,"effectTag",-1),h=(0,a.uE)('<p>åœ¨<code>flushPassiveEffects</code>æ–¹æ³•å†…éƒ¨ä¼šéå†<code>rootWithPendingPassiveEffects</code>ï¼ˆå³<code>effectList</code>ï¼‰æ‰§è¡Œ<code>effect</code>å›è°ƒå‡½æ•°ã€‚</p><p>å¦‚æœåœ¨æ­¤æ—¶ç›´æ¥æ‰§è¡Œï¼Œ<code>rootWithPendingPassiveEffects === null</code>ã€‚</p><p>é‚£ä¹ˆ<code>rootWithPendingPassiveEffects</code>ä¼šåœ¨ä½•æ—¶èµ‹å€¼å‘¢ï¼Ÿ</p><p>åœ¨ä¸Šä¸€èŠ‚<code>layoutä¹‹å</code>çš„ä»£ç ç‰‡æ®µä¸­ä¼šæ ¹æ®<code>rootDoesHavePassiveEffects === true?</code>å†³å®šæ˜¯å¦èµ‹å€¼<code>rootWithPendingPassiveEffects</code>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> rootDidHavePassiveEffects <span class="token operator">=</span> rootDoesHavePassiveEffects<span class="token punctuation">;</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>rootDoesHavePassiveEffects<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  rootDoesHavePassiveEffects <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n  rootWithPendingPassiveEffects <span class="token operator">=</span> root<span class="token punctuation">;</span>\n  pendingPassiveEffectsLanes <span class="token operator">=</span> lanes<span class="token punctuation">;</span>\n  pendingPassiveEffectsRenderPriority <span class="token operator">=</span> renderPriorityLevel<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥æ•´ä¸ª<code>useEffect</code>å¼‚æ­¥è°ƒç”¨åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ol><li><code>before mutationé˜¶æ®µ</code>åœ¨<code>scheduleCallback</code>ä¸­è°ƒåº¦<code>flushPassiveEffects</code></li><li><code>layouté˜¶æ®µ</code>ä¹‹åå°†<code>effectList</code>èµ‹å€¼ç»™<code>rootWithPendingPassiveEffects</code></li><li><code>scheduleCallback</code>è§¦å‘<code>flushPassiveEffects</code>ï¼Œ<code>flushPassiveEffects</code>å†…éƒ¨éå†<code>rootWithPendingPassiveEffects</code></li></ol><h3 id="ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥è°ƒç”¨" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥è°ƒç”¨</h3>',8),g=(0,a._)("code",null,"React",-1),E={href:"https://zh-hans.reactjs.org/docs/hooks-reference.html#timing-of-effects",target:"_blank",rel:"noopener noreferrer"},y=(0,a.uE)('<blockquote><p>ä¸ componentDidMountã€componentDidUpdate ä¸åŒçš„æ˜¯ï¼Œåœ¨æµè§ˆå™¨å®Œæˆå¸ƒå±€ä¸ç»˜åˆ¶ä¹‹åï¼Œä¼ ç»™ useEffect çš„å‡½æ•°ä¼šå»¶è¿Ÿè°ƒç”¨ã€‚è¿™ä½¿å¾—å®ƒé€‚ç”¨äºè®¸å¤šå¸¸è§çš„å‰¯ä½œç”¨åœºæ™¯ï¼Œæ¯”å¦‚è®¾ç½®è®¢é˜…å’Œäº‹ä»¶å¤„ç†ç­‰æƒ…å†µï¼Œå› æ­¤ä¸åº”åœ¨å‡½æ•°ä¸­æ‰§è¡Œé˜»å¡æµè§ˆå™¨æ›´æ–°å±å¹•çš„æ“ä½œã€‚</p></blockquote><p>å¯è§ï¼Œ<code>useEffect</code>å¼‚æ­¥æ‰§è¡Œçš„åŸå› ä¸»è¦æ˜¯é˜²æ­¢åŒæ­¥æ‰§è¡Œæ—¶é˜»å¡æµè§ˆå™¨æ¸²æŸ“ã€‚</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>ç»è¿‡æœ¬èŠ‚å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†åœ¨<code>before mutationé˜¶æ®µ</code>ï¼Œä¼šéå†<code>effectList</code>ï¼Œä¾æ¬¡æ‰§è¡Œï¼š</p><ol><li><p>å¤„ç†<code>DOMèŠ‚ç‚¹</code>æ¸²æŸ“/åˆ é™¤åçš„ <code>autoFocus</code>ã€<code>blur</code>é€»è¾‘</p></li><li><p>è°ƒç”¨<code>getSnapshotBeforeUpdate</code>ç”Ÿå‘½å‘¨æœŸé’©å­</p></li><li><p>è°ƒåº¦<code>useEffect</code></p></li></ol>',5),P={},U=(0,s(13860).Z)(P,[["render",function(e,n){const s=(0,a.up)("ExternalLinkIcon"),P=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)("div",null,[t,(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a.Uk)("è¿™éƒ¨åˆ†"),(0,a._)("a",o,[(0,a.Uk)("æºç åœ¨è¿™é‡Œ"),(0,a.Wm)(s)]),(0,a.Uk)("ã€‚ä¸ºäº†å¢åŠ å¯è¯»æ€§ï¼Œç¤ºä¾‹ä»£ç ä¸­åˆ é™¤äº†ä¸ç›¸å…³çš„é€»è¾‘")])]),c,(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a.Uk)("ä½ å¯ä»¥åœ¨"),(0,a._)("a",p,[(0,a.Uk)("è¿™é‡Œ"),(0,a.Wm)(s)]),(0,a.Uk)("çœ‹åˆ°è¿™æ®µé€»è¾‘")])]),i,(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a.Uk)("æ›´è¯¦ç»†çš„è§£é‡Šå‚ç…§"),(0,a._)("a",l,[(0,a.Uk)("è¿™é‡Œ"),(0,a.Wm)(s)])])]),u,(0,a._)("p",null,[(0,a.Uk)("å…³äº"),d,(0,a.Uk)("çš„å…·ä½“è®²è§£å‚ç…§"),(0,a.Wm)(P,{to:"/react/hooks/useeffect.html"},{default:(0,a.w5)((()=>[(0,a.Uk)("useEffectä¸useLayoutEffectä¸€èŠ‚")])),_:1})]),(0,a._)("p",null,[(0,a.Uk)("åœ¨"),(0,a.Wm)(P,{to:"/react/process/completeWork.html#effectlist"},{default:(0,a.w5)((()=>[(0,a.Uk)("completeWorkä¸€èŠ‚")])),_:1}),(0,a.Uk)("æˆ‘ä»¬è®²åˆ°ï¼Œ"),r,(0,a.Uk)("ä¸­ä¿å­˜äº†éœ€è¦æ‰§è¡Œå‰¯ä½œç”¨çš„"),f,(0,a.Uk)("ã€‚å…¶ä¸­å‰¯ä½œç”¨åŒ…æ‹¬")]),k,(0,a._)("blockquote",null,[(0,a._)("p",null,[(0,a.Uk)("ä½ å¯ä»¥ä»"),(0,a._)("a",m,[(0,a.Uk)("è¿™é‡Œ"),(0,a.Wm)(s)]),(0,a.Uk)("çœ‹åˆ°"),v,(0,a.Uk)("ç›¸å…³çš„"),b])]),h,(0,a._)("p",null,[(0,a.Uk)("æ‘˜å½•è‡ª"),g,(0,a.Uk)("æ–‡æ¡£"),(0,a._)("a",E,[(0,a.Uk)("effect çš„æ‰§è¡Œæ—¶æœº"),(0,a.Wm)(s)]),(0,a.Uk)("ï¼š")]),y])}]])},13860:(e,n)=>{n.Z=(e,n)=>{const s=e.__vccOpts||e;for(const[e,a]of n)s[e]=a;return s}},93904:(e,n,s)=>{s.r(n),s.d(n,{data:()=>a});const a=JSON.parse('{"key":"v-606db68e","path":"/react/renderer/beforeMutation.html","title":"before mutationé˜¶æ®µ","lang":"zh-CN","frontmatter":{"title":"before mutationé˜¶æ®µ","author":"BetaSu","tag":["React"],"summary":"åœ¨æœ¬èŠ‚æ­£å¼å¼€å§‹å‰ï¼Œè®©æˆ‘ä»¬å¤ä¹ ä¸‹è¿™ä¸€ç« åˆ°ç›®å‰ä¸ºæ­¢æ‰€å­¦çš„ã€‚ Rendererå·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸ºcommité˜¶æ®µã€‚commité˜¶æ®µå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªå­é˜¶æ®µï¼š before mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œå‰ï¼‰; mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œï¼‰; layouté˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œåï¼‰; æœ¬èŠ‚æˆ‘ä»¬çœ‹çœ‹before mutationé˜¶æ®µï¼ˆæ‰§è¡ŒDOMæ“ä½œå‰ï¼‰éƒ½åšäº†ä»€ä¹ˆ","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/react/renderer/beforeMutation.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"before mutationé˜¶æ®µ"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-08-29T09:14:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"BetaSu"}],["meta",{"property":"article:tag","content":"React"}],["meta",{"property":"article:modified_time","content":"2022-08-29T09:14:21.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"æ¦‚è§ˆ","slug":"æ¦‚è§ˆ","children":[]},{"level":2,"title":"commitBeforeMutationEffects","slug":"commitbeforemutationeffects","children":[]},{"level":2,"title":"è°ƒç”¨getSnapshotBeforeUpdate","slug":"è°ƒç”¨getsnapshotbeforeupdate","children":[]},{"level":2,"title":"è°ƒåº¦useEffect","slug":"è°ƒåº¦useeffect","children":[{"level":3,"title":"å¦‚ä½•å¼‚æ­¥è°ƒåº¦","slug":"å¦‚ä½•å¼‚æ­¥è°ƒåº¦","children":[]},{"level":3,"title":"ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥è°ƒç”¨","slug":"ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥è°ƒç”¨","children":[]}]},{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“","children":[]}],"git":{"createdTime":1661764461000,"updatedTime":1661764461000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":3.8,"words":1140},"filePathRelative":"react/renderer/beforeMutation.md","localizedDate":"2022å¹´8æœˆ29æ—¥"}')}}]);