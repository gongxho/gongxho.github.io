"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[17613],{87696:(n,s,a)=>{a.r(s),a.d(s,{default:()=>m});var e=a(60329);const o={href:"https://github.com/sebmarkbage/",target:"_blank",rel:"noopener noreferrer"},c=(0,e._)("code",null,"React Hooks",-1),t=(0,e._)("code",null,"React",-1),p=(0,e._)("code",null,"ä»£æ•°æ•ˆåº”",-1),d=(0,e.uE)('<p>é‚£ä¹ˆï¼Œ<code>ä»£æ•°æ•ˆåº”</code>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»–å’Œ<code>React</code>æœ‰ä»€ä¹ˆå…³ç³»å‘¢ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯ä»£æ•°æ•ˆåº”" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ä»£æ•°æ•ˆåº”" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯ä»£æ•°æ•ˆåº”</h2><p><code>ä»£æ•°æ•ˆåº”</code>æ˜¯<code>å‡½æ•°å¼ç¼–ç¨‹</code>ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç”¨äºå°†<code>å‰¯ä½œç”¨</code>ä»<code>å‡½æ•°</code>è°ƒç”¨ä¸­åˆ†ç¦»ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨<code>è™šæ„çš„è¯­æ³•</code>æ¥è§£é‡Šã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°<code>getTotalPicNum</code>ï¼Œä¼ å…¥2ä¸ª<code>ç”¨æˆ·åç§°</code>åï¼Œåˆ†åˆ«æŸ¥æ‰¾è¯¥ç”¨æˆ·åœ¨å¹³å°ä¿å­˜çš„å›¾ç‰‡æ•°é‡ï¼Œæœ€åå°†å›¾ç‰‡æ•°é‡ç›¸åŠ åè¿”å›ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getTotalPicNum</span><span class="token punctuation">(</span><span class="token parameter">user1<span class="token punctuation">,</span> user2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> picNum1 <span class="token operator">=</span> <span class="token function">getPicNum</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> picNum2 <span class="token operator">=</span> <span class="token function">getPicNum</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> picNum1 <span class="token operator">+</span> picNum2<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨<code>getTotalPicNum</code>ä¸­ï¼Œæˆ‘ä»¬ä¸å…³æ³¨<code>getPicNum</code>çš„å®ç°ï¼Œåªåœ¨ä¹â€œè·å–åˆ°ä¸¤ä¸ªæ•°å­—åå°†ä»–ä»¬ç›¸åŠ çš„ç»“æœè¿”å›â€è¿™ä¸€è¿‡ç¨‹ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°<code>getPicNum</code>ã€‚</p><p>&quot;ç”¨æˆ·åœ¨å¹³å°ä¿å­˜çš„å›¾ç‰‡æ•°é‡&quot;æ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ä¸­çš„ã€‚æ‰€ä»¥ï¼Œä¸ºäº†è·å–è¯¥å€¼ï¼Œæˆ‘ä»¬éœ€è¦å‘èµ·å¼‚æ­¥è¯·æ±‚ã€‚</p><p>ä¸ºäº†å°½é‡ä¿æŒ<code>getTotalPicNum</code>çš„è°ƒç”¨æ–¹å¼ä¸å˜ï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°äº†ä½¿ç”¨<code>async await</code>ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getTotalPicNum</span><span class="token punctuation">(</span><span class="token parameter">user1<span class="token punctuation">,</span> user2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> picNum1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPicNum</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> picNum2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPicNum</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> picNum1 <span class="token operator">+</span> picNum2<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯ï¼Œ<code>async await</code>æ˜¯æœ‰<code>ä¼ æŸ“æ€§</code>çš„ â€”â€” å½“ä¸€ä¸ªå‡½æ•°å˜ä¸º<code>async</code>åï¼Œè¿™æ„å‘³ç€è°ƒç”¨ä»–çš„å‡½æ•°ä¹Ÿéœ€è¦æ˜¯<code>async</code>ï¼Œè¿™ç ´åäº†<code>getTotalPicNum</code>çš„åŒæ­¥ç‰¹æ€§ã€‚</p><p>æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•èƒ½ä¿æŒ<code>getTotalPicNum</code>ä¿æŒç°æœ‰è°ƒç”¨æ–¹å¼ä¸å˜çš„æƒ…å†µä¸‹å®ç°å¼‚æ­¥è¯·æ±‚å‘¢ï¼Ÿ</p><p>æ²¡æœ‰ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥<code>è™šæ„</code>ä¸€ä¸ªã€‚</p><p>æˆ‘ä»¬è™šæ„ä¸€ä¸ªç±»ä¼¼<code>try...catch</code>çš„è¯­æ³• â€”â€” <code>try...handle</code>ä¸ä¸¤ä¸ªæ“ä½œç¬¦<code>perform</code>ã€<code>resume</code>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getPicNum</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> picNum <span class="token operator">=</span> perform name<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> picNum<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">try</span> <span class="token punctuation">{</span>\n  <span class="token function">getTotalPicNum</span><span class="token punctuation">(</span><span class="token string">&#39;kaSong&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;xiaoMing&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token function">handle</span> <span class="token punctuation">(</span><span class="token parameter">who</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">switch</span> <span class="token punctuation">(</span>who<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">case</span> <span class="token string">&#39;kaSong&#39;</span><span class="token operator">:</span>\n      resume <span class="token keyword">with</span> <span class="token number">230</span><span class="token punctuation">;</span>\n    <span class="token keyword">case</span> <span class="token string">&#39;xiaoMing&#39;</span><span class="token operator">:</span>\n      resume <span class="token keyword">with</span> <span class="token number">122</span><span class="token punctuation">;</span>\n    <span class="token keyword">default</span><span class="token operator">:</span>\n      resume <span class="token keyword">with</span> <span class="token number">0</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æ‰§è¡Œåˆ°<code>getTotalPicNum</code>å†…éƒ¨çš„<code>getPicNum</code>æ–¹æ³•æ—¶ï¼Œä¼šæ‰§è¡Œ<code>perform name</code>ã€‚</p><p>æ­¤æ—¶å‡½æ•°è°ƒç”¨æ ˆä¼šä»<code>getPicNum</code>æ–¹æ³•å†…è·³å‡ºï¼Œè¢«æœ€è¿‘ä¸€ä¸ª<code>try...handle</code>æ•è·ã€‚ç±»ä¼¼<code>throw Error</code>åè¢«æœ€è¿‘ä¸€ä¸ª<code>try...catch</code>æ•è·ã€‚</p><p>ç±»ä¼¼<code>throw Error</code>å<code>Error</code>ä¼šä½œä¸º<code>catch</code>çš„å‚æ•°ï¼Œ<code>perform name</code>å<code>name</code>ä¼šä½œä¸º<code>handle</code>çš„å‚æ•°ã€‚</p><p>ä¸<code>try...catch</code>æœ€å¤§çš„ä¸åŒåœ¨äºï¼šå½“<code>Error</code>è¢«<code>catch</code>æ•è·åï¼Œä¹‹å‰çš„è°ƒç”¨æ ˆå°±é”€æ¯äº†ã€‚è€Œ<code>handle</code>æ‰§è¡Œ<code>resume</code>åä¼šå›åˆ°ä¹‹å‰<code>perform</code>çš„è°ƒç”¨æ ˆã€‚</p><p>å¯¹äº<code>case &#39;kaSong&#39;</code>ï¼Œæ‰§è¡Œå®Œ<code>resume with 230;</code>åè°ƒç”¨æ ˆä¼šå›åˆ°<code>getPicNum</code>ï¼Œæ­¤æ—¶<code>picNum === 230</code></p><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p><p>å†æ¬¡ç”³æ˜ï¼Œ<code>try...handle</code>çš„è¯­æ³•æ˜¯è™šæ„çš„ï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤º<code>ä»£æ•°æ•ˆåº”</code>çš„æ€æƒ³ã€‚</p></div><p>æ€»ç»“ä¸€ä¸‹ï¼š<code>ä»£æ•°æ•ˆåº”</code>èƒ½å¤Ÿå°†<code>å‰¯ä½œç”¨</code>ï¼ˆä¾‹å­ä¸­ä¸º<code>è¯·æ±‚å›¾ç‰‡æ•°é‡</code>ï¼‰ä»å‡½æ•°é€»è¾‘ä¸­åˆ†ç¦»ï¼Œä½¿å‡½æ•°å…³æ³¨ç‚¹ä¿æŒçº¯ç²¹ã€‚</p><p>å¹¶ä¸”ï¼Œä»ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼Œ<code>perform resume</code>ä¸éœ€è¦åŒºåˆ†åŒæ­¥å¼‚æ­¥ã€‚</p><h2 id="ä»£æ•°æ•ˆåº”åœ¨reactä¸­çš„åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#ä»£æ•°æ•ˆåº”åœ¨reactä¸­çš„åº”ç”¨" aria-hidden="true">#</a> ä»£æ•°æ•ˆåº”åœ¨Reactä¸­çš„åº”ç”¨</h2><p>é‚£ä¹ˆ<code>ä»£æ•°æ•ˆåº”</code>ä¸<code>React</code>æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿæœ€æ˜æ˜¾çš„ä¾‹å­å°±æ˜¯<code>Hooks</code>ã€‚</p><p>å¯¹äºç±»ä¼¼<code>useState</code>ã€<code>useReducer</code>ã€<code>useRef</code>è¿™æ ·çš„<code>Hook</code>ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³æ³¨<code>FunctionComponent</code>çš„<code>state</code>åœ¨<code>Hook</code>ä¸­æ˜¯å¦‚ä½•ä¿å­˜çš„ï¼Œ<code>React</code>ä¼šä¸ºæˆ‘ä»¬å¤„ç†ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦å‡è®¾<code>useState</code>è¿”å›çš„æ˜¯æˆ‘ä»¬æƒ³è¦çš„<code>state</code>ï¼Œå¹¶ç¼–å†™ä¸šåŠ¡é€»è¾‘å°±è¡Œã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>num<span class="token punctuation">,</span> updateNum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">updateNum</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token operator">=&gt;</span> num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>  \n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',29),i={href:"https://codesandbox.io/s/frosty-hermann-bztrp?file=/src/index.js:152-160",target:"_blank",rel:"noopener noreferrer"},r=(0,e.uE)('<p>åœ¨<code>Demo</code>ä¸­<code>ProfileDetails</code>ç”¨äºå±•ç¤º<code>ç”¨æˆ·åç§°</code>ã€‚è€Œ<code>ç”¨æˆ·åç§°</code>æ˜¯<code>å¼‚æ­¥è¯·æ±‚</code>çš„ã€‚</p><p>ä½†æ˜¯<code>Demo</code>ä¸­å®Œå…¨æ˜¯<code>åŒæ­¥</code>çš„å†™æ³•ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">ProfileDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> user <span class="token operator">=</span> resource<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä»£æ•°æ•ˆåº”ä¸generator" tabindex="-1"><a class="header-anchor" href="#ä»£æ•°æ•ˆåº”ä¸generator" aria-hidden="true">#</a> ä»£æ•°æ•ˆåº”ä¸Generator</h2><p>ä»<code>React15</code>åˆ°<code>React16</code>ï¼Œåè°ƒå™¨ï¼ˆ<code>Reconciler</code>ï¼‰é‡æ„çš„ä¸€å¤§ç›®çš„æ˜¯ï¼šå°†è€çš„<code>åŒæ­¥æ›´æ–°</code>çš„æ¶æ„å˜ä¸º<code>å¼‚æ­¥å¯ä¸­æ–­æ›´æ–°</code>ã€‚</p><p><code>å¼‚æ­¥å¯ä¸­æ–­æ›´æ–°</code>å¯ä»¥ç†è§£ä¸ºï¼š<code>æ›´æ–°</code>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šè¢«æ‰“æ–­ï¼ˆæµè§ˆå™¨æ—¶é—´åˆ†ç‰‡ç”¨å°½æˆ–æœ‰æ›´é«˜ä¼˜ä»»åŠ¡æ’é˜Ÿï¼‰ï¼Œå½“å¯ä»¥ç»§ç»­æ‰§è¡Œæ—¶æ¢å¤ä¹‹å‰æ‰§è¡Œçš„ä¸­é—´çŠ¶æ€ã€‚</p><p>è¿™å°±æ˜¯<code>ä»£æ•°æ•ˆåº”</code>ä¸­<code>try...handle</code>çš„ä½œç”¨ã€‚</p><p>å…¶å®ï¼Œæµè§ˆå™¨åŸç”Ÿå°±æ”¯æŒç±»ä¼¼çš„å®ç°ï¼Œè¿™å°±æ˜¯<code>Generator</code>ã€‚</p><p>ä½†æ˜¯<code>Generator</code>çš„ä¸€äº›ç¼ºé™·ä½¿<code>React</code>å›¢é˜Ÿæ”¾å¼ƒäº†ä»–ï¼š</p><ul><li><p>ç±»ä¼¼<code>async</code>ï¼Œ<code>Generator</code>ä¹Ÿæ˜¯<code>ä¼ æŸ“æ€§</code>çš„ï¼Œä½¿ç”¨äº†<code>Generator</code>åˆ™ä¸Šä¸‹æ–‡çš„å…¶ä»–å‡½æ•°ä¹Ÿéœ€è¦ä½œå‡ºæ”¹å˜ã€‚è¿™æ ·å¿ƒæ™ºè´Ÿæ‹…æ¯”è¾ƒé‡ã€‚</p></li><li><p><code>Generator</code>æ‰§è¡Œçš„<code>ä¸­é—´çŠ¶æ€</code>æ˜¯ä¸Šä¸‹æ–‡å…³è”çš„ã€‚</p></li></ul><p>è€ƒè™‘å¦‚ä¸‹ä¾‹å­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">doWork</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">C</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">doExpensiveWorkA</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">yield</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token function">doExpensiveWorkB</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">yield</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> z <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token function">doExpensiveWorkC</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> z<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯å½“æµè§ˆå™¨æœ‰ç©ºé—²æ—¶é—´éƒ½ä¼šä¾æ¬¡æ‰§è¡Œå…¶ä¸­ä¸€ä¸ª<code>doExpensiveWork</code>ï¼Œå½“æ—¶é—´ç”¨å°½åˆ™ä¼šä¸­æ–­ï¼Œå½“å†æ¬¡æ¢å¤æ—¶ä¼šä»ä¸­æ–­ä½ç½®ç»§ç»­æ‰§è¡Œã€‚</p><p>åªè€ƒè™‘â€œå•ä¸€ä¼˜å…ˆçº§ä»»åŠ¡çš„ä¸­æ–­ä¸ç»§ç»­â€æƒ…å†µä¸‹<code>Generator</code>å¯ä»¥å¾ˆå¥½çš„å®ç°<code>å¼‚æ­¥å¯ä¸­æ–­æ›´æ–°</code>ã€‚</p><p>ä½†æ˜¯å½“æˆ‘ä»¬è€ƒè™‘â€œé«˜ä¼˜å…ˆçº§ä»»åŠ¡æ’é˜Ÿâ€çš„æƒ…å†µï¼Œå¦‚æœæ­¤æ—¶å·²ç»å®Œæˆ<code>doExpensiveWorkA</code>ä¸<code>doExpensiveWorkB</code>è®¡ç®—å‡º<code>x</code>ä¸<code>y</code>ã€‚</p><p>æ­¤æ—¶<code>B</code>ç»„ä»¶æ¥æ”¶åˆ°ä¸€ä¸ª<code>é«˜ä¼˜æ›´æ–°</code>ï¼Œç”±äº<code>Generator</code>æ‰§è¡Œçš„<code>ä¸­é—´çŠ¶æ€</code>æ˜¯ä¸Šä¸‹æ–‡å…³è”çš„ï¼Œæ‰€ä»¥è®¡ç®—<code>y</code>æ—¶æ— æ³•å¤ç”¨ä¹‹å‰å·²ç»è®¡ç®—å‡ºçš„<code>x</code>ï¼Œéœ€è¦é‡æ–°è®¡ç®—ã€‚</p><p>å¦‚æœé€šè¿‡<code>å…¨å±€å˜é‡</code>ä¿å­˜ä¹‹å‰æ‰§è¡Œçš„<code>ä¸­é—´çŠ¶æ€</code>ï¼Œåˆä¼šå¼•å…¥æ–°çš„å¤æ‚åº¦ã€‚</p>',17),l={href:"https://github.com/facebook/react/issues/7942#issuecomment-254987818",target:"_blank",rel:"noopener noreferrer"},u=(0,e.uE)('<p>åŸºäºè¿™äº›åŸå› ï¼Œ<code>React</code>æ²¡æœ‰é‡‡ç”¨<code>Generator</code>å®ç°<code>åè°ƒå™¨</code>ã€‚</p><h2 id="ä»£æ•°æ•ˆåº”ä¸fiber" tabindex="-1"><a class="header-anchor" href="#ä»£æ•°æ•ˆåº”ä¸fiber" aria-hidden="true">#</a> ä»£æ•°æ•ˆåº”ä¸Fiber</h2><p><code>Fiber</code>å¹¶ä¸æ˜¯è®¡ç®—æœºæœ¯è¯­ä¸­çš„æ–°åè¯ï¼Œä»–çš„ä¸­æ–‡ç¿»è¯‘å«åš<code>çº¤ç¨‹</code>ï¼Œä¸è¿›ç¨‹ï¼ˆProcessï¼‰ã€çº¿ç¨‹ï¼ˆThreadï¼‰ã€åç¨‹ï¼ˆCoroutineï¼‰åŒä¸ºç¨‹åºæ‰§è¡Œè¿‡ç¨‹ã€‚</p><p>åœ¨å¾ˆå¤šæ–‡ç« ä¸­å°†<code>çº¤ç¨‹</code>ç†è§£ä¸º<code>åç¨‹</code>çš„ä¸€ç§å®ç°ã€‚åœ¨<code>JS</code>ä¸­ï¼Œ<code>åç¨‹</code>çš„å®ç°ä¾¿æ˜¯<code>Generator</code>ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†<code>çº¤ç¨‹</code>(Fiber)ã€<code>åç¨‹</code>(Generator)ç†è§£ä¸º<code>ä»£æ•°æ•ˆåº”</code>æ€æƒ³åœ¨<code>JS</code>ä¸­çš„ä½“ç°ã€‚</p><p><code>React Fiber</code>å¯ä»¥ç†è§£ä¸ºï¼š</p><p><code>React</code>å†…éƒ¨å®ç°çš„ä¸€å¥—çŠ¶æ€æ›´æ–°æœºåˆ¶ã€‚æ”¯æŒä»»åŠ¡ä¸åŒ<code>ä¼˜å…ˆçº§</code>ï¼Œå¯ä¸­æ–­ä¸æ¢å¤ï¼Œå¹¶ä¸”æ¢å¤åå¯ä»¥å¤ç”¨ä¹‹å‰çš„<code>ä¸­é—´çŠ¶æ€</code>ã€‚</p><p>å…¶ä¸­æ¯ä¸ªä»»åŠ¡æ›´æ–°å•å…ƒä¸º<code>React Element</code>å¯¹åº”çš„<code>FiberèŠ‚ç‚¹</code>ã€‚</p><p>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å…·ä½“è®²è§£<code>Fiberæ¶æ„</code>çš„å®ç°ã€‚</p>',9),k={},m=(0,a(13860).Z)(k,[["render",function(n,s){const a=(0,e.up)("ExternalLinkIcon");return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("p",null,[(0,e.Uk)("Reactæ ¸å¿ƒå›¢é˜Ÿæˆå‘˜"),(0,e._)("a",o,[(0,e.Uk)("Sebastian MarkbÃ¥ge"),(0,e.Wm)(a)]),(0,e.Uk)("ï¼ˆ"),c,(0,e.Uk)("çš„å‘æ˜è€…ï¼‰æ›¾è¯´ï¼šæˆ‘ä»¬åœ¨"),t,(0,e.Uk)("ä¸­åšçš„å°±æ˜¯è·µè¡Œ"),p,(0,e.Uk)("ï¼ˆAlgebraic Effectsï¼‰ã€‚")]),d,(0,e._)("p",null,[(0,e.Uk)("å¦‚æœè¿™ä¸ªä¾‹å­è¿˜ä¸å¤Ÿæ˜æ˜¾ï¼Œå¯ä»¥çœ‹çœ‹å®˜æ–¹çš„"),(0,e._)("a",i,[(0,e.Uk)("Suspense Demo"),(0,e.Wm)(a)])]),r,(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("æ›´è¯¦ç»†çš„è§£é‡Šå¯ä»¥å‚è€ƒ"),(0,e._)("a",l,[(0,e.Uk)("è¿™ä¸ªissue"),(0,e.Wm)(a)])])]),u])}]])},13860:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}},37146:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e=JSON.parse('{"key":"v-2f751ec6","path":"/react/process/fiber-mental.html","title":"Fiberæ¶æ„çš„å¿ƒæ™ºæ¨¡å‹","lang":"zh-CN","frontmatter":{"title":"Fiberæ¶æ„çš„å¿ƒæ™ºæ¨¡å‹","author":"BetaSu","tag":["React"],"summary":"Reactæ ¸å¿ƒå›¢é˜Ÿæˆå‘˜Sebastian MarkbÃ¥geï¼ˆReact Hooksçš„å‘æ˜è€…ï¼‰æ›¾è¯´ï¼šæˆ‘ä»¬åœ¨Reactä¸­åšçš„å°±æ˜¯è·µè¡Œä»£æ•°æ•ˆåº”ï¼ˆAlgebraic Effectsï¼‰ã€‚ é‚£ä¹ˆï¼Œä»£æ•°æ•ˆåº”æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»–å’ŒReactæœ‰ä»€ä¹ˆå…³ç³»å‘¢ã€‚ ä»€ä¹ˆæ˜¯ä»£æ•°æ•ˆåº” ä»£æ•°æ•ˆåº”æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç”¨äºå°†å‰¯ä½œç”¨ä»å‡½æ•°è°ƒç”¨ä¸­åˆ†ç¦»ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨è™šæ„çš„è¯­æ³•æ¥è§£é‡Šã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/react/process/fiber-mental.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"Fiberæ¶æ„çš„å¿ƒæ™ºæ¨¡å‹"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-08-29T09:14:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"BetaSu"}],["meta",{"property":"article:tag","content":"React"}],["meta",{"property":"article:modified_time","content":"2022-08-29T09:14:21.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"ä»€ä¹ˆæ˜¯ä»£æ•°æ•ˆåº”","slug":"ä»€ä¹ˆæ˜¯ä»£æ•°æ•ˆåº”","children":[]},{"level":2,"title":"ä»£æ•°æ•ˆåº”åœ¨Reactä¸­çš„åº”ç”¨","slug":"ä»£æ•°æ•ˆåº”åœ¨reactä¸­çš„åº”ç”¨","children":[]},{"level":2,"title":"ä»£æ•°æ•ˆåº”ä¸Generator","slug":"ä»£æ•°æ•ˆåº”ä¸generator","children":[]},{"level":2,"title":"ä»£æ•°æ•ˆåº”ä¸Fiber","slug":"ä»£æ•°æ•ˆåº”ä¸fiber","children":[]}],"git":{"createdTime":1661764461000,"updatedTime":1661764461000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":5.09,"words":1528},"filePathRelative":"react/process/fiber-mental.md","localizedDate":"2022å¹´8æœˆ29æ—¥"}')}}]);