"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[36230],{81456:(e,s,n)=>{n.r(s),n.d(s,{default:()=>l});var a=n(60329);const i=[(0,a.uE)('<h2 id="session" tabindex="-1"><a class="header-anchor" href="#session" aria-hidden="true">#</a> Session</h2><p>ç”¨æˆ·æ¯æ¬¡ä½¿ç”¨ Shellï¼Œéƒ½ä¼šå¼€å¯ä¸€ä¸ªä¸ Shell çš„ Session(å¯¹è¯)ã€‚</p><p>Session æœ‰ä¸¤ç§ç±»å‹: ç™»å½• Session å’Œéç™»å½• Sessionï¼Œä¹Ÿå¯ä»¥å«åš login shell å’Œ non-login shellã€‚</p><h3 id="ç™»å½•-session" tabindex="-1"><a class="header-anchor" href="#ç™»å½•-session" aria-hidden="true">#</a> ç™»å½• Session</h3><p>ç™»å½• Session æ˜¯ç”¨æˆ·ç™»å½•ç³»ç»Ÿä»¥åï¼Œç³»ç»Ÿä¸ºç”¨æˆ·å¼€å¯çš„åŸå§‹ Sessionï¼Œé€šå¸¸éœ€è¦ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•ã€‚</p><p>ç™»å½• Session ä¸€èˆ¬è¿›è¡Œæ•´ä¸ªç³»ç»Ÿç¯å¢ƒçš„åˆå§‹åŒ–ï¼Œå¯åŠ¨çš„åˆå§‹åŒ–è„šæœ¬ä¾æ¬¡å¦‚ä¸‹ã€‚</p><ul><li><code>/etc/profile</code>: æ‰€æœ‰ç”¨æˆ·çš„å…¨å±€é…ç½®è„šæœ¬ã€‚</li><li><code>/etc/profile.d</code> ç›®å½•é‡Œé¢æ‰€æœ‰ <code>.sh</code> æ–‡ä»¶</li><li><code>~/.bash_profile</code>: ç”¨æˆ·çš„ä¸ªäººé…ç½®è„šæœ¬ã€‚å¦‚æœè¯¥è„šæœ¬å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œå®Œå°±ä¸å†å¾€ä¸‹æ‰§è¡Œã€‚</li><li><code>~/.bash_login</code>: å¦‚æœ <code>~/.bash_profile</code> æ²¡æ‰¾åˆ°ï¼Œåˆ™å°è¯•æ‰§è¡Œè¿™ä¸ªè„šæœ¬(C shell çš„åˆå§‹åŒ–è„šæœ¬)ã€‚å¦‚æœè¯¥è„šæœ¬å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œå®Œå°±ä¸å†å¾€ä¸‹æ‰§è¡Œã€‚</li><li><code>~/.profile</code>: å¦‚æœ<code>~/.bash_profile</code> å’Œ <code>~/.bash_login</code> éƒ½æ²¡æ‰¾åˆ°ï¼Œåˆ™å°è¯•è¯»å–è¿™ä¸ªè„šæœ¬(Bourne shell å’Œ Korn shell çš„åˆå§‹åŒ–è„šæœ¬)ã€‚</li></ul><p>Linux å‘è¡Œç‰ˆæ›´æ–°çš„æ—¶å€™ï¼Œä¼šæ›´æ–° <code>/etc</code> é‡Œé¢çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>/etc/profile</code>ï¼Œå› æ­¤ä¸è¦ç›´æ¥ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚å¦‚æœæƒ³ä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„ç™»é™†ç¯å¢ƒï¼Œå°±åœ¨ <code>/etc/profile.d</code> ç›®å½•é‡Œé¢æ–°å»º <code>.sh</code> è„šæœ¬ã€‚</p><p>å¦‚æœæƒ³ä¿®æ”¹æ‚¨ä¸ªäººçš„ç™»å½•ç¯å¢ƒï¼Œä¸€èˆ¬æ˜¯å†™åœ¨ <code>~/.bash_profile</code> é‡Œé¢ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸å‹çš„ <code>.bash_profile</code> æ–‡ä»¶ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># .bash_profile</span>\n<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/sbin:/usr/sbin:/bin:/usr/bin:/usr/local/bin\n<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/bin\n\n<span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash\n<span class="token assign-left variable">MANPATH</span><span class="token operator">=</span>/usr/man:/usr/X11/man\n<span class="token assign-left variable">EDITOR</span><span class="token operator">=</span>/usr/bin/vi\n<span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">&#39;\\h:\\w\\$ &#39;</span>\n<span class="token assign-left variable"><span class="token environment constant">PS2</span></span><span class="token operator">=</span><span class="token string">&#39;&gt; &#39;</span>\n\n<span class="token keyword">if</span> <span class="token punctuation">[</span> -f ~/.bashrc <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>\n<span class="token builtin class-name">.</span> ~/.bashrc\n<span class="token keyword">fi</span>\n\n<span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span>\n<span class="token builtin class-name">export</span> EDITOR\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªè„šæœ¬å®šä¹‰äº†ä¸€äº›æœ€åŸºæœ¬çš„ç¯å¢ƒå˜é‡ï¼Œç„¶åæ‰§è¡Œäº† <code>~/.bashrc</code>ã€‚</p><p><code>bash</code> å‘½ä»¤çš„ <code>--login</code> å‚æ•°ï¼Œä¼šå¼ºåˆ¶æ‰§è¡Œç™»å½• Session ä¼šæ‰§è¡Œçš„è„šæœ¬ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> --login\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>bash</code> å‘½ä»¤çš„ <code>--noprofile</code> å‚æ•°ï¼Œä¼šè·³è¿‡ä¸Šé¢è¿™äº› Profile è„šæœ¬ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> --noprofile\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="éç™»å½•-session" tabindex="-1"><a class="header-anchor" href="#éç™»å½•-session" aria-hidden="true">#</a> éç™»å½• Session</h3><p>éç™»å½• Session æ˜¯ç”¨æˆ·è¿›å…¥ç³»ç»Ÿä»¥åï¼Œæ‰‹åŠ¨æ–°å»ºçš„ Sessionï¼Œè¿™æ—¶ä¸ä¼šè¿›è¡Œç¯å¢ƒåˆå§‹åŒ–ã€‚æ¯”å¦‚ï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œ <code>bash</code> å‘½ä»¤ï¼Œå°±ä¼šæ–°å»ºä¸€ä¸ªéç™»å½• Sessionã€‚</p><p>éç™»å½• Session çš„åˆå§‹åŒ–è„šæœ¬ä¾æ¬¡å¦‚ä¸‹ã€‚</p><ul><li><code>/etc/bash.bashrc</code>: å¯¹å…¨ä½“ç”¨æˆ·æœ‰æ•ˆã€‚</li><li><code>~/.bashrc</code>: ä»…å¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆã€‚</li></ul><p>å¯¹ç”¨æˆ·æ¥è¯´ï¼Œ<code>~/.bashrc</code> é€šå¸¸æ˜¯æœ€é‡è¦çš„è„šæœ¬ã€‚éç™»å½• Session é»˜è®¤ä¼šæ‰§è¡Œå®ƒï¼Œè€Œç™»é™† Session ä¸€èˆ¬ä¹Ÿä¼šé€šè¿‡è°ƒç”¨æ‰§è¡Œå®ƒã€‚ç”±äºæ¯æ¬¡æ‰§è¡Œ Bash è„šæœ¬ï¼Œéƒ½ä¼šæ–°å»ºä¸€ä¸ªéç™»å½• Sessionï¼Œæ‰€ä»¥ <code>~/.bashrc</code> ä¹Ÿæ˜¯æ¯æ¬¡æ‰§è¡Œè„šæœ¬éƒ½ä¼šæ‰§è¡Œçš„ã€‚</p><p><code>bash</code> å‘½ä»¤çš„ <code>--norc</code> å‚æ•°ï¼Œå¯ä»¥ç¦æ­¢åœ¨éç™»å½• Session æ‰§è¡Œ <code>~/.bashrc</code> è„šæœ¬ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> --norc\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>bash</code> å‘½ä»¤çš„ <code>--rcfile</code> å‚æ•°ï¼ŒæŒ‡å®šå¦ä¸€ä¸ªè„šæœ¬ä»£æ›¿ <code>.bashrc</code>ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> --rcfile testrc\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="bash-logout" tabindex="-1"><a class="header-anchor" href="#bash-logout" aria-hidden="true">#</a> .bash_logout</h3><p><code>~/.bash_logout</code> è„šæœ¬åœ¨æ¯æ¬¡é€€å‡º Session æ—¶æ‰§è¡Œï¼Œé€šå¸¸ç”¨æ¥åšä¸€äº›æ¸…ç†å·¥ä½œå’Œè®°å½•å·¥ä½œï¼Œæ¯”å¦‚åˆ é™¤ä¸´æ—¶æ–‡ä»¶ï¼Œè®°å½•ç”¨æˆ·åœ¨æœ¬æ¬¡ Session èŠ±è´¹çš„æ—¶é—´ã€‚</p><p>å¦‚æœæ²¡æœ‰é€€å‡ºæ—¶è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿå¯ä»¥ä¸å­˜åœ¨ã€‚</p><h2 id="å¯åŠ¨é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨é€‰é¡¹" aria-hidden="true">#</a> å¯åŠ¨é€‰é¡¹</h2><p>ä¸ºäº†æ–¹ä¾¿ Debugï¼Œæœ‰æ—¶åœ¨å¯åŠ¨ Bash çš„æ—¶å€™ï¼Œå¯ä»¥åŠ ä¸Šå¯åŠ¨å‚æ•°ã€‚</p><ul><li><code>-n</code>: ä¸è¿è¡Œè„šæœ¬ï¼Œåªæ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ã€‚</li><li><code>-v</code>: è¾“å‡ºæ¯ä¸€è¡Œè¯­å¥è¿è¡Œç»“æœå‰ï¼Œä¼šå…ˆè¾“å‡ºè¯¥è¡Œè¯­å¥ã€‚</li><li><code>-x</code>: æ¯ä¸€ä¸ªå‘½ä»¤å¤„ç†å®Œä»¥åï¼Œå…ˆè¾“å‡ºè¯¥å‘½ä»¤ï¼Œå†è¿›è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤çš„å¤„ç†ã€‚</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> -n scriptname\n<span class="token function">bash</span> -v scriptname\n<span class="token function">bash</span> -x scriptname\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é”®ç›˜ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#é”®ç›˜ç»‘å®š" aria-hidden="true">#</a> é”®ç›˜ç»‘å®š</h2><p>Bash å…è®¸ç”¨æˆ·å®šä¹‰è‡ªå·±çš„å¿«æ·é”®ã€‚å…¨å±€çš„é”®ç›˜ç»‘å®šæ–‡ä»¶é»˜è®¤ä¸º <code>/etc/inputrc</code>ï¼Œæ‚¨å¯ä»¥åœ¨ä¸»ç›®å½•åˆ›å»ºè‡ªå·±çš„é”®ç›˜ç»‘å®šæ–‡ä»¶ <code>.inputrc</code> æ–‡ä»¶ã€‚å¦‚æœå®šä¹‰äº†è¿™ä¸ªæ–‡ä»¶ï¼Œéœ€è¦åœ¨å…¶ä¸­åŠ å…¥ä¸‹é¢è¿™è¡Œï¼Œä¿è¯å…¨å±€ç»‘å®šä¸ä¼šè¢«é—æ¼ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token variable">$include</span> /etc/inputrc\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>.inputrc</code> æ–‡ä»¶é‡Œé¢çš„å¿«æ·é”®ï¼Œå¯ä»¥åƒè¿™æ ·å®šä¹‰ï¼Œ<code>&quot;\\C-t&quot;:&quot;pwd\\n&quot;</code> è¡¨ç¤ºå°† <code>Ctrl + t</code> ç»‘å®šä¸ºè¿è¡Œ <code>pwd</code> å‘½ä»¤ã€‚</p>',35)],o={},l=(0,n(13860).Z)(o,[["render",function(e,s){return(0,a.wg)(),(0,a.iD)("div",null,i)}]])},13860:(e,s)=>{s.Z=(e,s)=>{const n=e.__vccOpts||e;for(const[e,a]of s)n[e]=a;return n}},85816:(e,s,n)=>{n.r(s),n.d(s,{data:()=>a});const a=JSON.parse('{"key":"v-341fac63","path":"/linux/bash/startup.html","title":"Bash å¯åŠ¨ç¯å¢ƒ","lang":"zh-CN","frontmatter":{"title":"Bash å¯åŠ¨ç¯å¢ƒ","icon":"leaf","author":"é˜®ä¸€å³°","category":["Linux"],"tag":["Bash"],"copyright":"æœ¬æ•™ç¨‹é‡‡ç”¨<a href=\\"https://creativecommons.org/licenses/by-sa/3.0/deed.zh\\" rel=\\"noopener noreferrer\\" target=\\"_blank\\">çŸ¥è¯†å…±äº« ç½²å-ç›¸åŒæ–¹å¼å…±äº« 3.0åè®®</a>","summary":"Session ç”¨æˆ·æ¯æ¬¡ä½¿ç”¨ Shellï¼Œéƒ½ä¼šå¼€å¯ä¸€ä¸ªä¸ Shell çš„ Session(å¯¹è¯)ã€‚ Session æœ‰ä¸¤ç§ç±»å‹: ç™»å½• Session å’Œéç™»å½• Sessionï¼Œä¹Ÿå¯ä»¥å«åš login shell å’Œ non-login shellã€‚ ç™»å½• Session ç™»å½• Session æ˜¯ç”¨æˆ·ç™»å½•ç³»ç»Ÿä»¥åï¼Œç³»ç»Ÿä¸ºç”¨æˆ·å¼€å¯çš„åŸå§‹ Sessionï¼Œé€šå¸¸éœ€","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/linux/bash/startup.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"Bash å¯åŠ¨ç¯å¢ƒ"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-06-27T09:33:50.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"é˜®ä¸€å³°"}],["meta",{"property":"article:tag","content":"Bash"}],["meta",{"property":"article:modified_time","content":"2022-06-27T09:33:50.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"Session","slug":"session","children":[{"level":3,"title":"ç™»å½• Session","slug":"ç™»å½•-session","children":[]},{"level":3,"title":"éç™»å½• Session","slug":"éç™»å½•-session","children":[]},{"level":3,"title":".bash_logout","slug":"bash-logout","children":[]}]},{"level":2,"title":"å¯åŠ¨é€‰é¡¹","slug":"å¯åŠ¨é€‰é¡¹","children":[]},{"level":2,"title":"é”®ç›˜ç»‘å®š","slug":"é”®ç›˜ç»‘å®š","children":[]}],"git":{"createdTime":1656322430000,"updatedTime":1656322430000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":3.17,"words":951},"filePathRelative":"linux/bash/startup.md","localizedDate":"2022å¹´6æœˆ27æ—¥"}')}}]);