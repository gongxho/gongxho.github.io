"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[21174],{19077:(n,s,a)=>{a.r(s),a.d(s,{default:()=>o});var e=a(78e3);const t=[(0,e.uE)('<h1 id="ç»„ä»¶æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶æ³¨å†Œ" aria-hidden="true">#</a> ç»„ä»¶æ³¨å†Œ</h1><p>åœ¨ Vue.js ä¸­ï¼Œé™¤äº†å®ƒå†…ç½®çš„ç»„ä»¶å¦‚ <code>keep-alive</code>ã€<code>component</code>ã€<code>transition</code>ã€<code>transition-group</code> ç­‰ï¼Œå…¶å®ƒç”¨æˆ·è‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨å‰å¿…é¡»æ³¨å†Œã€‚å¾ˆå¤šåŒå­¦åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;Unknown custom element: &lt;xxx&gt; - did you register the component correctly?\n For recursive components, make sure to provide the &quot;name&quot; option.&#39;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€èˆ¬æŠ¥è¿™ä¸ªé”™çš„åŸå› éƒ½æ˜¯æˆ‘ä»¬ä½¿ç”¨äº†æœªæ³¨å†Œçš„ç»„ä»¶ã€‚Vue.js æä¾›äº† 2 ç§ç»„ä»¶çš„æ³¨å†Œæ–¹å¼ï¼Œå…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»æºç åˆ†æçš„è§’åº¦æ¥åˆ†æè¿™ä¸¤ç§æ³¨å†Œæ–¹å¼ã€‚</p><h2 id="å…¨å±€æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#å…¨å±€æ³¨å†Œ" aria-hidden="true">#</a> å…¨å±€æ³¨å†Œ</h2><p>è¦æ³¨å†Œä¸€ä¸ªå…¨å±€ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>Vue.component(tagName, options)</code>ã€‚ä¾‹å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;my-component&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token comment">// é€‰é¡¹</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆï¼Œ<code>Vue.component</code> å‡½æ•°æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™å®šä¹‰çš„å‘¢ï¼Œå®ƒçš„å®šä¹‰è¿‡ç¨‹å‘ç”Ÿåœ¨æœ€å¼€å§‹åˆå§‹åŒ– Vue çš„å…¨å±€å‡½æ•°çš„æ—¶å€™ï¼Œä»£ç åœ¨ <code>src/core/global-api/assets.js</code> ä¸­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ASSET_TYPES</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;shared/constants&#39;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> isPlainObject<span class="token punctuation">,</span> validateComponentName <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../util/index&#39;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initAssetRegisters</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">Vue</span><span class="token operator">:</span> GlobalAPI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token doc-comment comment">/**\n   * Create asset registration methods.\n   */</span>\n  <span class="token constant">ASSET_TYPES</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    Vue<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>\n      <span class="token parameter"><span class="token literal-property property">id</span><span class="token operator">:</span> string<span class="token punctuation">,</span>\n      <span class="token literal-property property">definition</span><span class="token operator">:</span> Function <span class="token operator">|</span> Object</span>\n    <span class="token punctuation">)</span><span class="token operator">:</span> Function <span class="token operator">|</span> Object <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>definition<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>type <span class="token operator">+</span> <span class="token string">&#39;s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token comment">/* istanbul ignore if */</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#39;production&#39;</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">&#39;component&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token function">validateComponentName</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;component&#39;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isPlainObject</span><span class="token punctuation">(</span>definition<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          definition<span class="token punctuation">.</span>name <span class="token operator">=</span> definition<span class="token punctuation">.</span>name <span class="token operator">||</span> id\n          definition <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>_base<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>definition<span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;directive&#39;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> definition <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          definition <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">bind</span><span class="token operator">:</span> definition<span class="token punctuation">,</span> <span class="token literal-property property">update</span><span class="token operator">:</span> definition <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>type <span class="token operator">+</span> <span class="token string">&#39;s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> definition\n        <span class="token keyword">return</span> definition\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡½æ•°é¦–å…ˆéå† <code>ASSET_TYPES</code>ï¼Œå¾—åˆ° <code>type</code> åæŒ‚è½½åˆ° Vue ä¸Š ã€‚<code>ASSET_TYPES</code> çš„å®šä¹‰åœ¨ <code>src/shared/constants.js</code> ä¸­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ASSET_TYPES</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token string">&#39;component&#39;</span><span class="token punctuation">,</span>\n  <span class="token string">&#39;directive&#39;</span><span class="token punctuation">,</span>\n  <span class="token string">&#39;filter&#39;</span>\n<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥å®é™…ä¸Š Vue æ˜¯åˆå§‹åŒ–äº† 3 ä¸ªå…¨å±€å‡½æ•°ï¼Œå¹¶ä¸”å¦‚æœ <code>type</code> æ˜¯ <code>component</code> ä¸” <code>definition</code> æ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯ï¼Œé€šè¿‡ <code>this.opitons._base.extend</code>ï¼Œ ç›¸å½“äº <code>Vue.extend</code> æŠŠè¿™ä¸ªå¯¹è±¡è½¬æ¢æˆä¸€ä¸ªç»§æ‰¿äº Vue çš„æ„é€ å‡½æ•°ï¼Œæœ€åé€šè¿‡ <code>this.options[type + &#39;s&#39;][id] = definition</code> æŠŠå®ƒæŒ‚è½½åˆ° <code>Vue.options.components</code> ä¸Šã€‚</p><p>ç”±äºæˆ‘ä»¬æ¯ä¸ªç»„ä»¶çš„åˆ›å»ºéƒ½æ˜¯é€šè¿‡ <code>Vue.extend</code> ç»§æ‰¿è€Œæ¥ï¼Œæˆ‘ä»¬ä¹‹å‰åˆ†æè¿‡åœ¨ç»§æ‰¿çš„è¿‡ç¨‹ä¸­æœ‰è¿™ä¹ˆä¸€æ®µé€»è¾‘ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Sub<span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span>\n  Super<span class="token punctuation">.</span>options<span class="token punctuation">,</span>\n  extendOptions\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå°±æ˜¯è¯´å®ƒä¼šæŠŠ <code>Vue.options</code> åˆå¹¶åˆ° <code>Sub.options</code>ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶çš„ <code>options</code> ä¸Šï¼Œ ç„¶ååœ¨ç»„ä»¶çš„å®ä¾‹åŒ–é˜¶æ®µï¼Œä¼šæ‰§è¡Œ <code>merge options</code> é€»è¾‘ï¼ŒæŠŠ <code>Sub.options.components</code> åˆå¹¶åˆ° <code>vm.$options.components</code> ä¸Šã€‚</p><p>ç„¶ååœ¨åˆ›å»º <code>vnode</code> çš„è¿‡ç¨‹ä¸­ï¼Œä¼šæ‰§è¡Œ <code>_createElement</code> æ–¹æ³•ï¼Œæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹è¿™éƒ¨åˆ†çš„é€»è¾‘ï¼Œå®ƒçš„å®šä¹‰åœ¨ <code>src/core/vdom/create-element.js</code> ä¸­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">_createElement</span> <span class="token punctuation">(</span>\n  <span class="token parameter"><span class="token literal-property property">context</span><span class="token operator">:</span> Component<span class="token punctuation">,</span>\n  tag<span class="token operator">?</span><span class="token operator">:</span> string <span class="token operator">|</span> Class<span class="token operator">&lt;</span>Component<span class="token operator">&gt;</span> <span class="token operator">|</span> Function <span class="token operator">|</span> Object<span class="token punctuation">,</span>\n  data<span class="token operator">?</span><span class="token operator">:</span> VNodeData<span class="token punctuation">,</span>\n  children<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span>\n  normalizationType<span class="token operator">?</span><span class="token operator">:</span> number</span>\n<span class="token punctuation">)</span><span class="token operator">:</span> VNode <span class="token operator">|</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token keyword">let</span> vnode<span class="token punctuation">,</span> ns\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> tag <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> Ctor\n    ns <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>$vnode <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>$vnode<span class="token punctuation">.</span>ns<span class="token punctuation">)</span> <span class="token operator">||</span> config<span class="token punctuation">.</span><span class="token function">getTagNamespace</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">isReservedTag</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// platform built-in elements</span>\n      vnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VNode</span><span class="token punctuation">(</span>\n        config<span class="token punctuation">.</span><span class="token function">parsePlatformTagName</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">,</span>\n        <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> context\n      <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>Ctor <span class="token operator">=</span> <span class="token function">resolveAsset</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>$options<span class="token punctuation">,</span> <span class="token string">&#39;components&#39;</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// component</span>\n      vnode <span class="token operator">=</span> <span class="token function">createComponent</span><span class="token punctuation">(</span>Ctor<span class="token punctuation">,</span> data<span class="token punctuation">,</span> context<span class="token punctuation">,</span> children<span class="token punctuation">,</span> tag<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token comment">// unknown or unlisted namespaced elements</span>\n      <span class="token comment">// check at runtime because it may get assigned a namespace when its</span>\n      <span class="token comment">// parent normalizes children</span>\n      vnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VNode</span><span class="token punctuation">(</span>\n        tag<span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">,</span>\n        <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> context\n      <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token comment">// direct component options / constructor</span>\n    vnode <span class="token operator">=</span> <span class="token function">createComponent</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> data<span class="token punctuation">,</span> context<span class="token punctuation">,</span> children<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œæœ‰ä¸€ä¸ªåˆ¤æ–­é€»è¾‘ <code>isDef(Ctor = resolveAsset(context.$options, &#39;components&#39;, tag))</code>ï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹ <code>resolveAsset</code> çš„å®šä¹‰ï¼Œåœ¨ <code>src/core/utils/options.js</code> ä¸­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">resolveAsset</span> <span class="token punctuation">(</span>\n  <span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>\n  <span class="token literal-property property">type</span><span class="token operator">:</span> string<span class="token punctuation">,</span>\n  <span class="token literal-property property">id</span><span class="token operator">:</span> string<span class="token punctuation">,</span>\n  warnMissing<span class="token operator">?</span><span class="token operator">:</span> boolean</span>\n<span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span>\n  <span class="token comment">/* istanbul ignore if */</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> id <span class="token operator">!==</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">const</span> assets <span class="token operator">=</span> options<span class="token punctuation">[</span>type<span class="token punctuation">]</span>\n  <span class="token comment">// check local registration variations first</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>assets<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> assets<span class="token punctuation">[</span>id<span class="token punctuation">]</span>\n  <span class="token keyword">const</span> camelizedId <span class="token operator">=</span> <span class="token function">camelize</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>assets<span class="token punctuation">,</span> camelizedId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> assets<span class="token punctuation">[</span>camelizedId<span class="token punctuation">]</span>\n  <span class="token keyword">const</span> PascalCaseId <span class="token operator">=</span> <span class="token function">capitalize</span><span class="token punctuation">(</span>camelizedId<span class="token punctuation">)</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>assets<span class="token punctuation">,</span> PascalCaseId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> assets<span class="token punctuation">[</span>PascalCaseId<span class="token punctuation">]</span>\n  <span class="token comment">// fallback to prototype chain</span>\n  <span class="token keyword">const</span> res <span class="token operator">=</span> assets<span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token operator">||</span> assets<span class="token punctuation">[</span>camelizedId<span class="token punctuation">]</span> <span class="token operator">||</span> assets<span class="token punctuation">[</span>PascalCaseId<span class="token punctuation">]</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#39;production&#39;</span> <span class="token operator">&amp;&amp;</span> warnMissing <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">warn</span><span class="token punctuation">(</span>\n      <span class="token string">&#39;Failed to resolve &#39;</span> <span class="token operator">+</span> type<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;: &#39;</span> <span class="token operator">+</span> id<span class="token punctuation">,</span>\n      options\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> res\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µé€»è¾‘å¾ˆç®€å•ï¼Œå…ˆé€šè¿‡ <code>const assets = options[type]</code> æ‹¿åˆ° <code>assets</code>ï¼Œç„¶åå†å°è¯•æ‹¿ <code>assets[id]</code>ï¼Œè¿™é‡Œæœ‰ä¸ªé¡ºåºï¼Œå…ˆç›´æ¥ä½¿ç”¨ <code>id</code> æ‹¿ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æŠŠ <code>id</code> å˜æˆé©¼å³°çš„å½¢å¼å†æ‹¿ï¼Œå¦‚æœä»ç„¶ä¸å­˜åœ¨åˆ™åœ¨é©¼å³°çš„åŸºç¡€ä¸ŠæŠŠé¦–å­—æ¯å†å˜æˆå¤§å†™çš„å½¢å¼å†æ‹¿ï¼Œå¦‚æœä»ç„¶æ‹¿ä¸åˆ°åˆ™æŠ¥é”™ã€‚è¿™æ ·è¯´æ˜äº†æˆ‘ä»¬åœ¨ä½¿ç”¨ <code>Vue.component(id, definition)</code> å…¨å±€æ³¨å†Œç»„ä»¶çš„æ—¶å€™ï¼Œid å¯ä»¥æ˜¯è¿å­—ç¬¦ã€é©¼å³°æˆ–é¦–å­—æ¯å¤§å†™çš„å½¢å¼ã€‚</p><p>é‚£ä¹ˆå›åˆ°æˆ‘ä»¬çš„è°ƒç”¨ <code>resolveAsset(context.$options, &#39;components&#39;, tag)</code>ï¼Œå³æ‹¿ <code>vm.$options.components[tag]</code>ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ <code>resolveAsset</code> çš„æ—¶å€™æ‹¿åˆ°è¿™ä¸ªç»„ä»¶çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä½œä¸º <code>createComponent</code> çš„é’©å­çš„å‚æ•°ã€‚</p><h2 id="å±€éƒ¨æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#å±€éƒ¨æ³¨å†Œ" aria-hidden="true">#</a> å±€éƒ¨æ³¨å†Œ</h2><p>Vue.js ä¹ŸåŒæ ·æ”¯æŒå±€éƒ¨æ³¨å†Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶å†…éƒ¨ä½¿ç”¨ <code>components</code> é€‰é¡¹åšç»„ä»¶çš„å±€éƒ¨æ³¨å†Œï¼Œä¾‹å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&#39;./components/HelloWorld&#39;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    HelloWorld\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®ç†è§£äº†å…¨å±€æ³¨å†Œçš„è¿‡ç¨‹ï¼Œå±€éƒ¨æ³¨å†Œæ˜¯éå¸¸ç®€å•çš„ã€‚åœ¨ç»„ä»¶çš„ Vue çš„å®ä¾‹åŒ–é˜¶æ®µæœ‰ä¸€ä¸ªåˆå¹¶ <code>option</code> çš„é€»è¾‘ï¼Œä¹‹å‰æˆ‘ä»¬ä¹Ÿåˆ†æè¿‡ï¼Œæ‰€ä»¥å°±æŠŠ <code>components</code> åˆå¹¶åˆ° <code>vm.$options.components</code> ä¸Šï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ <code>resolveAsset</code> çš„æ—¶å€™æ‹¿åˆ°è¿™ä¸ªç»„ä»¶çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä½œä¸º <code>createComponent</code> çš„é’©å­çš„å‚æ•°ã€‚</p><p>æ³¨æ„ï¼Œå±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œä¸åŒçš„æ˜¯ï¼Œåªæœ‰è¯¥ç±»å‹çš„ç»„ä»¶æ‰å¯ä»¥è®¿é—®å±€éƒ¨æ³¨å†Œçš„å­ç»„ä»¶ï¼Œè€Œå…¨å±€æ³¨å†Œæ˜¯æ‰©å±•åˆ° <code>Vue.options</code> ä¸‹ï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰ç»„ä»¶åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šä»å…¨å±€çš„ <code>Vue.options.components</code> æ‰©å±•åˆ°å½“å‰ç»„ä»¶çš„ <code>vm.$options.components</code> ä¸‹ï¼Œè¿™å°±æ˜¯å…¨å±€æ³¨å†Œçš„ç»„ä»¶èƒ½è¢«ä»»æ„ä½¿ç”¨çš„åŸå› ã€‚</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>é€šè¿‡è¿™ä¸€å°èŠ‚çš„åˆ†æï¼Œæˆ‘ä»¬å¯¹ç»„ä»¶çš„æ³¨å†Œè¿‡ç¨‹æœ‰äº†è®¤è¯†ï¼Œå¹¶ç†è§£äº†å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œçš„å·®å¼‚ã€‚å…¶å®åœ¨å¹³æ—¶çš„å·¥ä½œä¸­ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨åˆ°ç»„ä»¶åº“çš„æ—¶å€™ï¼Œå¾€å¾€æ›´é€šç”¨åŸºç¡€ç»„ä»¶éƒ½æ˜¯å…¨å±€æ³¨å†Œçš„ï¼Œè€Œç¼–å†™çš„ç‰¹ä¾‹åœºæ™¯çš„ä¸šåŠ¡ç»„ä»¶éƒ½æ˜¯å±€éƒ¨æ³¨å†Œçš„ã€‚äº†è§£äº†å®ƒä»¬çš„åŸç†ï¼Œå¯¹æˆ‘ä»¬åœ¨å·¥ä½œä¸­åˆ°åº•ä½¿ç”¨å…¨å±€æ³¨å†Œç»„ä»¶è¿˜æ˜¯å±€éƒ¨æ³¨å†Œç»„ä»¶æ˜¯æœ‰è¿™éå¸¸å¥½çš„æŒ‡å¯¼æ„ä¹‰çš„ã€‚</p>',28)],p={},o=(0,a(13860).Z)(p,[["render",function(n,s){return(0,e.wg)(),(0,e.iD)("div",null,t)}]])},13860:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}},79831:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e=JSON.parse('{"key":"v-3d581092","path":"/vue2/components/component-register.html","title":"ç»„ä»¶æ³¨å†Œ","lang":"zh-CN","frontmatter":{"author":"ustbhuangyi","summary":"ç»„ä»¶æ³¨å†Œ åœ¨ Vue.js ä¸­ï¼Œé™¤äº†å®ƒå†…ç½®çš„ç»„ä»¶å¦‚ keep-aliveã€componentã€transitionã€transition-group ç­‰ï¼Œå…¶å®ƒç”¨æˆ·è‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨å‰å¿…é¡»æ³¨å†Œã€‚å¾ˆå¤šåŒå­¦åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š ä¸€èˆ¬æŠ¥è¿™ä¸ªé”™çš„åŸå› éƒ½æ˜¯æˆ‘ä»¬ä½¿ç”¨äº†æœªæ³¨å†Œçš„ç»„ä»¶ã€‚Vue.js æä¾›äº† 2 ç§ç»„ä»¶çš„æ³¨å†Œæ–¹å¼ï¼Œå…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»æº","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/vue2/components/component-register.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğºğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"ç»„ä»¶æ³¨å†Œ"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-08-29T09:14:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"ustbhuangyi"}],["meta",{"property":"article:modified_time","content":"2022-08-29T09:14:21.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"å…¨å±€æ³¨å†Œ","slug":"å…¨å±€æ³¨å†Œ","children":[]},{"level":2,"title":"å±€éƒ¨æ³¨å†Œ","slug":"å±€éƒ¨æ³¨å†Œ","children":[]},{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“","children":[]}],"git":{"createdTime":1661764461000,"updatedTime":1661764461000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":4.58,"words":1375},"filePathRelative":"vue2/components/component-register.md","localizedDate":"2022å¹´8æœˆ29æ—¥"}')}}]);