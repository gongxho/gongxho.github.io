"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[21125],{74326:(n,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(60329);const e=(0,t._)("h2",{id:"æœªå¯åŠ¨æ—¶æ›´æ–°",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#æœªå¯åŠ¨æ—¶æ›´æ–°","aria-hidden":"true"},"#"),(0,t.Uk)(" æœªå¯åŠ¨æ—¶æ›´æ–°")],-1),p=(0,t._)("p",null,"å¼€å‘è€…åœ¨ç®¡ç†åå°å‘å¸ƒæ–°ç‰ˆæœ¬çš„å°ç¨‹åºä¹‹åï¼Œå¦‚æœæŸä¸ªç”¨æˆ·æœ¬åœ°æœ‰å°ç¨‹åºçš„å†å²ç‰ˆæœ¬ï¼Œæ­¤æ—¶æ‰“å¼€çš„å¯èƒ½è¿˜æ˜¯æ—§ç‰ˆæœ¬ã€‚å¾®ä¿¡å®¢æˆ·ç«¯ä¼šæœ‰è‹¥å¹²ä¸ªæ—¶æœºå»æ£€æŸ¥æœ¬åœ°ç¼“å­˜çš„å°ç¨‹åºæœ‰æ²¡æœ‰æ›´æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰åˆ™ä¼šé™é»˜æ›´æ–°åˆ°æ–°ç‰ˆæœ¬ã€‚æ€»çš„æ¥è¯´ï¼Œå¼€å‘è€…åœ¨åå°å‘å¸ƒæ–°ç‰ˆæœ¬ä¹‹åï¼Œæ— æ³•ç«‹åˆ»å½±å“åˆ°æ‰€æœ‰ç°ç½‘ç”¨æˆ·ï¼Œä½†æœ€å·®æƒ…å†µä¸‹ï¼Œä¹Ÿåœ¨å‘å¸ƒä¹‹å 24 å°æ—¶ä¹‹å†…ä¸‹å‘æ–°ç‰ˆæœ¬ä¿¡æ¯åˆ°ç”¨æˆ·ã€‚ç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€æ—¶ä¼šå…ˆæ›´æ–°æœ€æ–°ç‰ˆæœ¬å†æ‰“å¼€ã€‚",-1),o=(0,t._)("h2",{id:"å¯åŠ¨æ—¶æ›´æ–°",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#å¯åŠ¨æ—¶æ›´æ–°","aria-hidden":"true"},"#"),(0,t.Uk)(" å¯åŠ¨æ—¶æ›´æ–°")],-1),c=(0,t._)("p",null,"å°ç¨‹åºæ¯æ¬¡å†·å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šæ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°ç‰ˆæœ¬ï¼Œå¦‚æœå‘ç°æœ‰æ–°ç‰ˆæœ¬ï¼Œå°†ä¼šå¼‚æ­¥ä¸‹è½½æ–°ç‰ˆæœ¬çš„ä»£ç åŒ…ï¼Œå¹¶åŒæ—¶ç”¨å®¢æˆ·ç«¯æœ¬åœ°çš„åŒ…è¿›è¡Œå¯åŠ¨ï¼Œå³æ–°ç‰ˆæœ¬çš„å°ç¨‹åºéœ€è¦ç­‰ä¸‹ä¸€æ¬¡å†·å¯åŠ¨æ‰ä¼šåº”ç”¨ä¸Šã€‚",-1),i={href:"https://developers.weixin.qq.com/miniprogram/dev/api/base/update/wx.getUpdateManager.html",target:"_blank",rel:"noopener noreferrer"},l=(0,t._)("code",null,"wx.getUpdateManager",-1),u=(0,t.uE)('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> updateManager <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getUpdateManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nupdateManager<span class="token punctuation">.</span><span class="token function">onCheckForUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// è¯·æ±‚å®Œæ–°ç‰ˆæœ¬ä¿¡æ¯çš„å›è°ƒ</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>hasUpdate<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nupdateManager<span class="token punctuation">.</span><span class="token function">onUpdateReady</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  wx<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;æ›´æ–°æç¤º&quot;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;æ–°ç‰ˆæœ¬å·²ç»å‡†å¤‡å¥½ï¼Œæ˜¯å¦é‡å¯åº”ç”¨ï¼Ÿ&quot;</span><span class="token punctuation">,</span>\n    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>confirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// æ–°çš„ç‰ˆæœ¬å·²ç»ä¸‹è½½å¥½ï¼Œè°ƒç”¨ applyUpdate åº”ç”¨æ–°ç‰ˆæœ¬å¹¶é‡å¯</span>\n        updateManager<span class="token punctuation">.</span><span class="token function">applyUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nupdateManager<span class="token punctuation">.</span><span class="token function">onUpdateFailed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// æ–°ç‰ˆæœ¬ä¸‹è½½å¤±è´¥</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),r={},d=(0,s(13860).Z)(r,[["render",function(n,a){const s=(0,t.up)("ExternalLinkIcon");return(0,t.wg)(),(0,t.iD)("div",null,[e,p,o,c,(0,t._)("p",null,[(0,t.Uk)("å¦‚æœéœ€è¦é©¬ä¸Šåº”ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ "),(0,t._)("a",i,[l,(0,t.Wm)(s)]),(0,t.Uk)(" API è¿›è¡Œå¤„ç†ã€‚")]),u])}]])},13860:(n,a)=>{a.Z=(n,a)=>{const s=n.__vccOpts||n;for(const[n,t]of a)s[n]=t;return s}},38469:(n,a,s)=>{s.r(a),s.d(a,{data:()=>t});const t=JSON.parse('{"key":"v-37957440","path":"/code/mini-app/guide/frame/update.html","title":"å°ç¨‹åºæ›´æ–°æœºåˆ¶","lang":"zh-CN","frontmatter":{"title":"å°ç¨‹åºæ›´æ–°æœºåˆ¶","icon":"update","category":["å°ç¨‹åº"],"summary":"æœªå¯åŠ¨æ—¶æ›´æ–° å¼€å‘è€…åœ¨ç®¡ç†åå°å‘å¸ƒæ–°ç‰ˆæœ¬çš„å°ç¨‹åºä¹‹åï¼Œå¦‚æœæŸä¸ªç”¨æˆ·æœ¬åœ°æœ‰å°ç¨‹åºçš„å†å²ç‰ˆæœ¬ï¼Œæ­¤æ—¶æ‰“å¼€çš„å¯èƒ½è¿˜æ˜¯æ—§ç‰ˆæœ¬ã€‚å¾®ä¿¡å®¢æˆ·ç«¯ä¼šæœ‰è‹¥å¹²ä¸ªæ—¶æœºå»æ£€æŸ¥æœ¬åœ°ç¼“å­˜çš„å°ç¨‹åºæœ‰æ²¡æœ‰æ›´æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰åˆ™ä¼šé™é»˜æ›´æ–°åˆ°æ–°ç‰ˆæœ¬ã€‚æ€»çš„æ¥è¯´ï¼Œå¼€å‘è€…åœ¨åå°å‘å¸ƒæ–°ç‰ˆæœ¬ä¹‹åï¼Œæ— æ³•ç«‹åˆ»å½±å“åˆ°æ‰€æœ‰ç°ç½‘ç”¨æˆ·ï¼Œä½†æœ€å·®æƒ…å†µä¸‹ï¼Œä¹Ÿåœ¨å‘å¸ƒä¹‹å 24 å°æ—¶ä¹‹å†…ä¸‹å‘æ–°ç‰ˆæœ¬ä¿¡æ¯åˆ°ç”¨æˆ·ã€‚ç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€æ—¶ä¼šå…ˆæ›´æ–°æœ€","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/code/mini-app/guide/frame/update.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"å°ç¨‹åºæ›´æ–°æœºåˆ¶"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-06-27T09:33:50.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-06-27T09:33:50.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"æœªå¯åŠ¨æ—¶æ›´æ–°","slug":"æœªå¯åŠ¨æ—¶æ›´æ–°","children":[]},{"level":2,"title":"å¯åŠ¨æ—¶æ›´æ–°","slug":"å¯åŠ¨æ—¶æ›´æ–°","children":[]}],"git":{"createdTime":1656322430000,"updatedTime":1656322430000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":1.21,"words":362},"filePathRelative":"code/mini-app/guide/frame/update.md","localizedDate":"2022å¹´6æœˆ27æ—¥"}')}}]);