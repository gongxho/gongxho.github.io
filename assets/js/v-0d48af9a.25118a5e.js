"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[78460],{9101:(n,s,a)=>{a.r(s),a.d(s,{default:()=>p});var e=a(60329);const t=[(0,e.uE)('<h1 id="è·¯ç”±æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±æ³¨å†Œ" aria-hidden="true">#</a> è·¯ç”±æ³¨å†Œ</h1><p>Vue ä»å®ƒçš„è®¾è®¡ä¸Šå°±æ˜¯ä¸€ä¸ªæ¸è¿›å¼ JavaScript æ¡†æ¶ï¼Œå®ƒæœ¬èº«çš„æ ¸å¿ƒæ˜¯è§£å†³è§†å›¾æ¸²æŸ“çš„é—®é¢˜ï¼Œå…¶å®ƒçš„èƒ½åŠ›å°±é€šè¿‡æ’ä»¶çš„æ–¹å¼æ¥è§£å†³ã€‚Vue-Router å°±æ˜¯å®˜æ–¹ç»´æŠ¤çš„è·¯ç”±æ’ä»¶ï¼Œåœ¨ä»‹ç»å®ƒçš„æ³¨å†Œå®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹ Vue é€šç”¨çš„æ’ä»¶æ³¨å†ŒåŸç†ã€‚</p><h2 id="vue-use" tabindex="-1"><a class="header-anchor" href="#vue-use" aria-hidden="true">#</a> <code>Vue.use</code></h2><p>Vue æä¾›äº† <code>Vue.use</code> çš„å…¨å±€ API æ¥æ³¨å†Œè¿™äº›æ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹å®ƒçš„å®ç°åŸç†ï¼Œå®šä¹‰åœ¨ <code>vue/src/core/global-api/use.js</code> ä¸­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initUse</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">Vue</span><span class="token operator">:</span> GlobalAPI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  Vue<span class="token punctuation">.</span><span class="token function-variable function">use</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">plugin</span><span class="token operator">:</span> Function <span class="token operator">|</span> Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> installedPlugins <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_installedPlugins <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_installedPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>installedPlugins<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>plugin<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token function">toArray</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>\n    args<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> plugin<span class="token punctuation">.</span>install <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      plugin<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>plugin<span class="token punctuation">,</span> args<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> plugin <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">plugin</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n    installedPlugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>plugin<span class="token punctuation">)</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Vue.use</code> æ¥å—ä¸€ä¸ª <code>plugin</code> å‚æ•°ï¼Œå¹¶ä¸”ç»´æŠ¤äº†ä¸€ä¸ª <code>_installedPlugins</code> æ•°ç»„ï¼Œå®ƒå­˜å‚¨æ‰€æœ‰æ³¨å†Œè¿‡çš„ <code>plugin</code>ï¼›æ¥ç€åˆä¼šåˆ¤æ–­ <code>plugin</code> æœ‰æ²¡æœ‰å®šä¹‰ <code>install</code> æ–¹æ³•ï¼Œå¦‚æœæœ‰çš„è¯åˆ™è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>Vue</code>ï¼›æœ€åæŠŠ <code>plugin</code> å­˜å‚¨åˆ° <code>installedPlugins</code> ä¸­ã€‚</p><p>å¯ä»¥çœ‹åˆ° Vue æä¾›çš„æ’ä»¶æ³¨å†Œæœºåˆ¶å¾ˆç®€å•ï¼Œæ¯ä¸ªæ’ä»¶éƒ½éœ€è¦å®ç°ä¸€ä¸ªé™æ€çš„ <code>install</code> æ–¹æ³•ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ <code>Vue.use</code> æ³¨å†Œæ’ä»¶çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ª <code>install</code> æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ª <code>install</code> æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æˆ‘ä»¬å¯ä»¥æ‹¿åˆ° <code>Vue</code> å¯¹è±¡ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯ä½œä¸ºæ’ä»¶çš„ç¼–å†™æ–¹ä¸éœ€è¦å†é¢å¤–å»<code>import Vue</code> äº†ã€‚</p><h2 id="è·¯ç”±å®‰è£…" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å®‰è£…" aria-hidden="true">#</a> è·¯ç”±å®‰è£…</h2><p>Vue-Router çš„å…¥å£æ–‡ä»¶æ˜¯ <code>src/index.js</code>ï¼Œå…¶ä¸­å®šä¹‰äº† <code>VueRouter</code> ç±»ï¼Œä¹Ÿå®ç°äº† <code>install</code> çš„é™æ€æ–¹æ³•ï¼š<code>VueRouter.install = install</code>ï¼Œå®ƒçš„å®šä¹‰åœ¨ <code>src/install.js</code> ä¸­ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">let</span> _Vue\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">install</span> <span class="token punctuation">(</span><span class="token parameter">Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>install<span class="token punctuation">.</span>installed <span class="token operator">&amp;&amp;</span> _Vue <span class="token operator">===</span> Vue<span class="token punctuation">)</span> <span class="token keyword">return</span>\n  install<span class="token punctuation">.</span>installed <span class="token operator">=</span> <span class="token boolean">true</span>\n\n  _Vue <span class="token operator">=</span> Vue\n\n  <span class="token keyword">const</span> <span class="token function-variable function">isDef</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> v <span class="token operator">!==</span> <span class="token keyword">undefined</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">registerInstance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> callVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> i <span class="token operator">=</span> vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>_parentVnode\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isDef</span><span class="token punctuation">(</span>i <span class="token operator">=</span> i<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isDef</span><span class="token punctuation">(</span>i <span class="token operator">=</span> i<span class="token punctuation">.</span>registerRouteInstance<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">i</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> callVal<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token function">beforeCreate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot <span class="token operator">=</span> <span class="token keyword">this</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>_router <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router\n        <span class="token keyword">this</span><span class="token punctuation">.</span>_router<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>\n        Vue<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;_route&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_router<span class="token punctuation">.</span>history<span class="token punctuation">.</span>current<span class="token punctuation">)</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$parent <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>_routerRoot<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">this</span>\n      <span class="token punctuation">}</span>\n      <span class="token function">registerInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">destroyed</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">registerInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&#39;$router&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_router <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&#39;$route&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_route <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;RouterView&#39;</span><span class="token punctuation">,</span> View<span class="token punctuation">)</span>\n  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;RouterLink&#39;</span><span class="token punctuation">,</span> Link<span class="token punctuation">)</span>\n\n  <span class="token keyword">const</span> strats <span class="token operator">=</span> Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>optionMergeStrategies\n  strats<span class="token punctuation">.</span>beforeRouteEnter <span class="token operator">=</span> strats<span class="token punctuation">.</span>beforeRouteLeave <span class="token operator">=</span> strats<span class="token punctuation">.</span>beforeRouteUpdate <span class="token operator">=</span> strats<span class="token punctuation">.</span>created\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç”¨æˆ·æ‰§è¡Œ <code>Vue.use(VueRouter)</code> çš„æ—¶å€™ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨æ‰§è¡Œ <code>install</code> å‡½æ•°ï¼Œä¸ºäº†ç¡®ä¿ <code>install</code> é€»è¾‘åªæ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äº† <code>install.installed</code> å˜é‡åšå·²å®‰è£…çš„æ ‡å¿—ä½ã€‚å¦å¤–ç”¨ä¸€ä¸ªå…¨å±€çš„ <code>_Vue</code> æ¥æ¥æ”¶å‚æ•° <code>Vue</code>ï¼Œå› ä¸ºä½œä¸º Vue çš„æ’ä»¶å¯¹ <code>Vue</code> å¯¹è±¡æ˜¯æœ‰ä¾èµ–çš„ï¼Œä½†åˆä¸èƒ½å»å•ç‹¬å» <code>import Vue</code>ï¼Œå› ä¸ºé‚£æ ·ä¼šå¢åŠ åŒ…ä½“ç§¯ï¼Œæ‰€ä»¥å°±é€šè¿‡è¿™ç§æ–¹å¼æ‹¿åˆ° <code>Vue</code> å¯¹è±¡ã€‚</p><p>Vue-Router å®‰è£…æœ€é‡è¦çš„ä¸€æ­¥å°±æ˜¯åˆ©ç”¨ <code>Vue.mixin</code> å»æŠŠ <code>beforeCreate</code> å’Œ <code>destroyed</code> é’©å­å‡½æ•°æ³¨å…¥åˆ°æ¯ä¸€ä¸ªç»„ä»¶ä¸­ã€‚<code>Vue.mixin</code> çš„å®šä¹‰ï¼Œåœ¨ <code>vue/src/core/global-api/mixin.js</code> ä¸­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initMixin</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">Vue</span><span class="token operator">:</span> GlobalAPI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  Vue<span class="token punctuation">.</span><span class="token function-variable function">mixin</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">mixin</span><span class="token operator">:</span> Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span> mixin<span class="token punctuation">)</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒçš„å®ç°å®é™…ä¸Šéå¸¸ç®€å•ï¼Œå°±æ˜¯æŠŠè¦æ··å…¥çš„å¯¹è±¡é€šè¿‡ <code>mergeOptions</code> åˆå¹¶åˆ° <code>Vue</code> çš„ <code>options</code> ä¸­ï¼Œç”±äºæ¯ä¸ªç»„ä»¶çš„æ„é€ å‡½æ•°éƒ½ä¼šåœ¨ <code>extend</code> é˜¶æ®µåˆå¹¶ <code>Vue.options</code> åˆ°è‡ªèº«çš„ <code>options</code> ä¸­ï¼Œæ‰€ä»¥ä¹Ÿå°±ç›¸å½“äºæ¯ä¸ªç»„ä»¶éƒ½å®šä¹‰äº† <code>mixin</code> å®šä¹‰çš„é€‰é¡¹ã€‚</p><p>å›åˆ° <code>Vue-Router</code> çš„ <code>install</code> æ–¹æ³•ï¼Œå…ˆçœ‹æ··å…¥çš„ <code>beforeCreate</code> é’©å­å‡½æ•°ï¼Œå¯¹äºæ ¹ <code>Vue</code> å®ä¾‹è€Œè¨€ï¼Œæ‰§è¡Œè¯¥é’©å­å‡½æ•°æ—¶å®šä¹‰äº† <code>this._routerRoot</code> è¡¨ç¤ºå®ƒè‡ªèº«ï¼›<code>this._router</code> è¡¨ç¤º <code>VueRouter</code> çš„å®ä¾‹ <code>router</code>ï¼Œå®ƒæ˜¯åœ¨ <code>new Vue</code> çš„æ—¶å€™ä¼ å…¥çš„ï¼›å¦å¤–æ‰§è¡Œäº† <code>this._router.init()</code> æ–¹æ³•åˆå§‹åŒ– <code>router</code>ï¼Œè¿™ä¸ªé€»è¾‘ä¹‹åä»‹ç»ï¼Œç„¶åç”¨ <code>defineReactive</code> æ–¹æ³•æŠŠ <code>this._route</code> å˜æˆå“åº”å¼å¯¹è±¡ï¼Œè¿™ä¸ªä½œç”¨æˆ‘ä»¬ä¹‹åä¼šä»‹ç»ã€‚è€Œå¯¹äºå­ç»„ä»¶è€Œè¨€ï¼Œç”±äºç»„ä»¶æ˜¯æ ‘çŠ¶ç»“æ„ï¼Œåœ¨éå†ç»„ä»¶æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒä»¬åœ¨æ‰§è¡Œè¯¥é’©å­å‡½æ•°çš„æ—¶å€™ <code>this._routerRoot</code> å§‹ç»ˆæŒ‡å‘çš„ç¦»å®ƒæœ€è¿‘çš„ä¼ å…¥äº† <code>router</code> å¯¹è±¡ä½œä¸ºé…ç½®è€Œå®ä¾‹åŒ–çš„çˆ¶å®ä¾‹ã€‚</p><p>å¯¹äº <code>beforeCreate</code> å’Œ <code>destroyed</code> é’©å­å‡½æ•°ï¼Œå®ƒä»¬éƒ½ä¼šæ‰§è¡Œ <code>registerInstance</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æˆ‘ä»¬ä¹Ÿæ˜¯ä¹‹åä¼šä»‹ç»ã€‚</p><p>æ¥ç€ç»™ Vue åŸå‹ä¸Šå®šä¹‰äº† <code>$router</code> å’Œ <code>$route</code> 2 ä¸ªå±æ€§çš„ get æ–¹æ³•ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶å®ä¾‹ä¸Šå¯ä»¥è®¿é—® <code>this.$router</code> ä»¥åŠ <code>this.$route</code>ï¼Œå®ƒä»¬çš„ä½œç”¨ä¹‹åä»‹ç»ã€‚</p><p>æ¥ç€åˆé€šè¿‡ <code>Vue.component</code> æ–¹æ³•å®šä¹‰äº†å…¨å±€çš„ <code>&lt;router-link&gt;</code> å’Œ <code>&lt;router-view&gt;</code> 2 ä¸ªç»„ä»¶ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨å†™æ¨¡æ¿çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªæ ‡ç­¾ï¼Œå®ƒä»¬çš„ä½œç”¨ä¹Ÿæ˜¯ä¹‹åä»‹ç»ã€‚</p><p>æœ€åå®šä¹‰äº†è·¯ç”±ä¸­çš„é’©å­å‡½æ•°çš„åˆå¹¶ç­–ç•¥ï¼Œå’Œæ™®é€šçš„é’©å­å‡½æ•°ä¸€æ ·ã€‚</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>é‚£ä¹ˆåˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬åˆ†æäº† Vue-Router çš„å®‰è£…è¿‡ç¨‹ï¼ŒVue ç¼–å†™æ’ä»¶çš„æ—¶å€™é€šå¸¸è¦æä¾›é™æ€çš„ <code>install</code> æ–¹æ³•ï¼Œæˆ‘ä»¬é€šè¿‡ <code>Vue.use(plugin)</code> æ—¶å€™ï¼Œå°±æ˜¯åœ¨æ‰§è¡Œ <code>install</code> æ–¹æ³•ã€‚<code>Vue-Router</code> çš„ <code>install</code> æ–¹æ³•ä¼šç»™æ¯ä¸€ä¸ªç»„ä»¶æ³¨å…¥ <code>beforeCreate</code> å’Œ <code>destoryed</code> é’©å­å‡½æ•°ï¼Œåœ¨ <code>beforeCreate</code> åšä¸€äº›ç§æœ‰å±æ€§å®šä¹‰å’Œè·¯ç”±åˆå§‹åŒ–å·¥ä½œï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬å°±æ¥åˆ†æä¸€ä¸‹ <code>VueRouter</code> å¯¹è±¡çš„å®ç°å’Œå®ƒçš„åˆå§‹åŒ–å·¥ä½œã€‚</p>',21)],o={},p=(0,a(13860).Z)(o,[["render",function(n,s){return(0,e.wg)(),(0,e.iD)("div",null,t)}]])},13860:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}},8403:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e=JSON.parse('{"key":"v-0d48af9a","path":"/vue2/vue-router/install.html","title":"è·¯ç”±æ³¨å†Œ","lang":"zh-CN","frontmatter":{"author":"ustbhuangyi","summary":"è·¯ç”±æ³¨å†Œ Vue ä»å®ƒçš„è®¾è®¡ä¸Šå°±æ˜¯ä¸€ä¸ªæ¸è¿›å¼ JavaScript æ¡†æ¶ï¼Œå®ƒæœ¬èº«çš„æ ¸å¿ƒæ˜¯è§£å†³è§†å›¾æ¸²æŸ“çš„é—®é¢˜ï¼Œå…¶å®ƒçš„èƒ½åŠ›å°±é€šè¿‡æ’ä»¶çš„æ–¹å¼æ¥è§£å†³ã€‚Vue-Router å°±æ˜¯å®˜æ–¹ç»´æŠ¤çš„è·¯ç”±æ’ä»¶ï¼Œåœ¨ä»‹ç»å®ƒçš„æ³¨å†Œå®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹ Vue é€šç”¨çš„æ’ä»¶æ³¨å†ŒåŸç†ã€‚ Vue.use Vue æä¾›äº† Vue.use çš„å…¨å±€ API æ¥æ³¨å†Œè¿™äº›æ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/vue2/vue-router/install.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"è·¯ç”±æ³¨å†Œ"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-08-29T09:14:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"ustbhuangyi"}],["meta",{"property":"article:modified_time","content":"2022-08-29T09:14:21.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"Vue.use","slug":"vue-use","children":[]},{"level":2,"title":"è·¯ç”±å®‰è£…","slug":"è·¯ç”±å®‰è£…","children":[]},{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“","children":[]}],"git":{"createdTime":1661764461000,"updatedTime":1661764461000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":4.12,"words":1235},"filePathRelative":"vue2/vue-router/install.md","localizedDate":"2022å¹´8æœˆ29æ—¥"}')}}]);