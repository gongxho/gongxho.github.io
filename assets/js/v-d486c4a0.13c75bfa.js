"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[70503],{84188:(n,s,a)=>{a.r(s),a.d(s,{default:()=>o});var p=a(78e3);const t=[(0,p.uE)('<h1 id="å‡½æ•°å¼ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å¼ç¼–ç¨‹" aria-hidden="true">#</a> å‡½æ•°å¼ç¼–ç¨‹</h1><p>JavaScript è¯­è¨€ä»ä¸€è¯ç”Ÿï¼Œå°±å…·æœ‰å‡½æ•°å¼ç¼–ç¨‹çš„çƒ™å°ã€‚å®ƒå°†å‡½æ•°ä½œä¸ºä¸€ç§ç‹¬ç«‹çš„æ•°æ®ç±»å‹ï¼Œä¸å…¶ä»–æ•°æ®ç±»å‹å¤„äºå®Œå…¨å¹³ç­‰çš„åœ°ä½ã€‚åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œæ‚¨å¯ä»¥é‡‡ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹ã€‚æœ‰äººç”šè‡³è¯´ï¼ŒJavaScript æ˜¯æœ‰å²ä»¥æ¥ç¬¬ä¸€ç§è¢«å¤§è§„æ¨¡é‡‡ç”¨çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚</p><p>ES6 çš„ç§ç§æ–°å¢åŠŸèƒ½ï¼Œä½¿å¾—å‡½æ•°å¼ç¼–ç¨‹å˜å¾—æ›´æ–¹ä¾¿ã€æ›´å¼ºå¤§ã€‚æœ¬ç« ä»‹ç» ES6 å¦‚ä½•è¿›è¡Œå‡½æ•°å¼ç¼–ç¨‹ã€‚</p><h2 id="æŸ¯é‡ŒåŒ–" tabindex="-1"><a class="header-anchor" href="#æŸ¯é‡ŒåŒ–" aria-hidden="true">#</a> æŸ¯é‡ŒåŒ–</h2><p>æŸ¯é‡ŒåŒ–(currying)æŒ‡çš„æ˜¯å°†ä¸€ä¸ªå¤šå‚æ•°çš„å‡½æ•°æ‹†åˆ†æˆä¸€ç³»åˆ—å‡½æ•°ï¼Œæ¯ä¸ªæ‹†åˆ†åçš„å‡½æ•°éƒ½åªæ¥å—ä¸€ä¸ªå‚æ•°(unary)ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•° <code>add</code> æ¥å—ä¸¤ä¸ªå‚æ•° <code>a</code> å’Œ <code>b</code>ã€‚</p><p>æŸ¯é‡ŒåŒ–å°±æ˜¯å°†ä¸Šé¢çš„å‡½æ•°æ‹†åˆ†æˆä¸¤ä¸ªå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½åªæ¥å—ä¸€ä¸ªå‚æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// æˆ–è€…é‡‡ç”¨ç®­å¤´å‡½æ•°å†™æ³•</span>\n<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> f <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•° <code>add</code> åªæ¥å—ä¸€ä¸ªå‚æ•° <code>a</code>ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•° <code>f</code>ã€‚å‡½æ•° <code>f</code> ä¹Ÿåªæ¥å—ä¸€ä¸ªå‚æ•° <code>b</code>ã€‚</p><h2 id="å‡½æ•°åˆæˆ" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°åˆæˆ" aria-hidden="true">#</a> å‡½æ•°åˆæˆ</h2><p>å‡½æ•°åˆæˆ(function composition)æŒ‡çš„æ˜¯ï¼Œå°†å¤šä¸ªå‡½æ•°åˆæˆä¸€ä¸ªå‡½æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">compose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">g</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> f <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>compose</code> å°±æ˜¯ä¸€ä¸ªå‡½æ•°åˆæˆå™¨ï¼Œç”¨äºå°†ä¸¤ä¸ªå‡½æ•°åˆæˆä¸€ä¸ªå‡½æ•°ã€‚</p><p>å¯ä»¥å‘ç°ï¼ŒæŸ¯é‡ŒåŒ–ä¸å‡½æ•°åˆæˆæœ‰ç€å¯†åˆ‡çš„è”ç³»ã€‚å‰è€…ç”¨äºå°†ä¸€ä¸ªå‡½æ•°æ‹†æˆå¤šä¸ªå‡½æ•°ï¼Œåè€…ç”¨äºå°†å¤šä¸ªå‡½æ•°åˆå¹¶æˆä¸€ä¸ªå‡½æ•°ã€‚</p><h2 id="å‚æ•°å€’ç½®" tabindex="-1"><a class="header-anchor" href="#å‚æ•°å€’ç½®" aria-hidden="true">#</a> å‚æ•°å€’ç½®</h2><p>å‚æ•°å€’ç½®(flip)æŒ‡çš„æ˜¯æ”¹å˜å‡½æ•°å‰ä¸¤ä¸ªå‚æ•°çš„é¡ºåºã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">divide</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>\n<span class="token keyword">let</span> flip <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span>divide<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">flip</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.5</span>\n<span class="token function">flip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>\n\n<span class="token keyword">let</span> <span class="token function-variable function">three</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> flip <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span>three<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">flip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [2, 1, 3]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœæŒ‰ç…§æ­£å¸¸çš„å‚æ•°é¡ºåºï¼Œ10 é™¤ä»¥ 5 ç­‰äº 2ã€‚ä½†æ˜¯ï¼Œå‚æ•°å€’ç½®ä»¥åå¾—åˆ°çš„æ–°å‡½æ•°ï¼Œç»“æœå°±æ˜¯ 5 é™¤ä»¥ 10ï¼Œç»“æœå¾—åˆ° 0.5ã€‚å¦‚æœåŸå‡½æ•°æœ‰ 3 ä¸ªå‚æ•°ï¼Œåˆ™åªé¢ å€’å‰ä¸¤ä¸ªå‚æ•°çš„ä½ç½®ã€‚</p><p>å‚æ•°å€’ç½®çš„ä»£ç éå¸¸ç®€å•ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">flip</span> <span class="token operator">=</span>\n  <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>\n  <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>\n    <span class="token function">fn</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‰§è¡Œè¾¹ç•Œ" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œè¾¹ç•Œ" aria-hidden="true">#</a> æ‰§è¡Œè¾¹ç•Œ</h2><p>æ‰§è¡Œè¾¹ç•Œ(until)æŒ‡çš„æ˜¯å‡½æ•°æ‰§è¡Œåˆ°æ»¡è¶³æ¡ä»¶ä¸ºæ­¢ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">condition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> <span class="token function-variable function">inc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> until <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>condition<span class="token punctuation">,</span> inc<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">until</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 101</span>\n\n<span class="token function-variable function">condition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">;</span>\nuntil <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>condition<span class="token punctuation">,</span> inc<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">until</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€æ®µçš„æ¡ä»¶æ˜¯æ‰§è¡Œåˆ° <code>x</code> å¤§äº 100 ä¸ºæ­¢ï¼Œæ‰€ä»¥ <code>x</code> åˆå€¼ä¸º 0 æ—¶ï¼Œä¼šä¸€ç›´æ‰§è¡Œåˆ° 101ã€‚ç¬¬äºŒæ®µçš„æ¡ä»¶æ˜¯æ‰§è¡Œåˆ°ç­‰äº 5 ä¸ºæ­¢ï¼Œæ‰€ä»¥ <code>x</code> æœ€åçš„å€¼æ˜¯ 5ã€‚</p><p>æ‰§è¡Œè¾¹ç•Œçš„å®ç°å¦‚ä¸‹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">until</span> <span class="token operator">=</span>\n  <span class="token punctuation">(</span><span class="token parameter">condition<span class="token punctuation">,</span> f</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>\n  <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token function">condition</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">?</span> r <span class="token operator">:</span> f<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>condition<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç çš„å…³é”®å°±æ˜¯ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶å°±è¿”å›ç»“æœï¼Œå¦åˆ™ä¸æ–­é€’å½’æ‰§è¡Œã€‚</p><h2 id="é˜Ÿåˆ—æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#é˜Ÿåˆ—æ“ä½œ" aria-hidden="true">#</a> é˜Ÿåˆ—æ“ä½œ</h2><p>é˜Ÿåˆ—(list)æ“ä½œåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚</p><ul><li><code>head</code>: å–å‡ºé˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªéç©ºæˆå‘˜ã€‚</li><li><code>last</code>: å–å‡ºæœ‰é™é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªéç©ºæˆå‘˜ã€‚</li><li><code>tail</code>: å–å‡ºé™¤äº†â€œé˜Ÿåˆ—å¤´â€ä»¥å¤–çš„å…¶ä»–éç©ºæˆå‘˜ã€‚</li><li><code>init</code>: å–å‡ºé™¤äº†â€œé˜Ÿåˆ—å°¾â€ä»¥å¤–çš„å…¶ä»–éç©ºæˆå‘˜ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¾‹å­ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>f<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>\nf<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\nf<span class="token punctuation">.</span><span class="token function">tail</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [27, 3, 1]</span>\nf<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5, 27, 3]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›æ–¹æ³•çš„å®ç°å¦‚ä¸‹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">head</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> xs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">last</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> xs<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">tail</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xs<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> xs<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åˆå¹¶æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#åˆå¹¶æ“ä½œ" aria-hidden="true">#</a> åˆå¹¶æ“ä½œ</h2><p>åˆå¹¶æ“ä½œåˆ†ä¸º <code>concat</code> å’Œ <code>concatMap</code> ä¸¤ç§ã€‚å‰è€…å°±æ˜¯å°†å¤šä¸ªæ•°ç»„åˆæˆä¸€ä¸ªï¼Œåè€…åˆ™æ˜¯å…ˆå¤„ç†ä¸€ä¸‹å‚æ•°ï¼Œç„¶åå†å°†å¤„ç†ç»“æœåˆæˆä¸€ä¸ªæ•°ç»„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>f<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5, 27, 3]</span>\nf<span class="token punctuation">.</span><span class="token function">concatMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;hi &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#39;hi 1&#39;, &#39;hi 2&#39;, &#39;hi 3&#39;]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸¤ç§æ–¹æ³•çš„å®ç°ä»£ç å¦‚ä¸‹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">concat</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> xs<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nf<span class="token punctuation">.</span><span class="token function-variable function">concatMap</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> <span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> f<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>xs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…å¯¹æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#é…å¯¹æ“ä½œ" aria-hidden="true">#</a> é…å¯¹æ“ä½œ</h2><p>é…å¯¹æ“ä½œåˆ†ä¸º <code>zip</code> å’Œ <code>zipWith</code> ä¸¤ç§æ–¹æ³•ã€‚<code>zip</code> æ“ä½œå°†ä¸¤ä¸ªé˜Ÿåˆ—çš„æˆå‘˜ï¼Œä¸€ä¸€é…å¯¹ï¼Œåˆæˆä¸€ä¸ªæ–°çš„é˜Ÿåˆ—ã€‚å¦‚æœä¸¤ä¸ªé˜Ÿåˆ—ä¸ç­‰é•¿ï¼Œè¾ƒé•¿çš„é‚£ä¸ªé˜Ÿåˆ—å¤šå‡ºæ¥çš„æˆå‘˜ï¼Œä¼šè¢«å¿½ç•¥ã€‚<code>zipWith</code> æ“ä½œçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åä¼šå°†åé¢çš„é˜Ÿåˆ—æˆå‘˜ä¸€ä¸€é…å¯¹ï¼Œè¾“å…¥è¯¥å‡½æ•°ï¼Œè¿”å›å€¼å°±ç»„æˆä¸€ä¸ªæ–°çš„é˜Ÿåˆ—ã€‚</p><p>ä¸‹é¢æ˜¯ä¾‹å­ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nf<span class="token punctuation">.</span><span class="token function">zip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [[0, 3], [1, 4], [2, 5]]</span>\nf<span class="token punctuation">.</span><span class="token function">zipWith</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [9, 12, 15]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>zipWith</code> æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ±‚å’Œå‡½æ•°ï¼Œå®ƒå°†åé¢ä¸‰ä¸ªé˜Ÿåˆ—çš„æˆå‘˜ï¼Œä¸€ä¸€é…å¯¹è¿›è¡Œç›¸åŠ ã€‚</p><p>è¿™ä¸¤ä¸ªæ–¹æ³•çš„å®ç°å¦‚ä¸‹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nf<span class="token punctuation">.</span><span class="token function-variable function">zip</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> nple <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> length <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>\n    <span class="token keyword">null</span><span class="token punctuation">,</span>\n    xs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    xs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> nple<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    r<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nple<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    nple <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> r<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nf<span class="token punctuation">.</span><span class="token function-variable function">zipWith</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">op<span class="token punctuation">,</span> <span class="token operator">...</span>xs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> f<span class="token punctuation">.</span><span class="token function">zip</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> xs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',47)],e={},o=(0,a(13860).Z)(e,[["render",function(n,s){return(0,p.wg)(),(0,p.iD)("div",null,t)}]])},13860:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,p]of s)a[n]=p;return a}},4661:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p=JSON.parse('{"key":"v-d486c4a0","path":"/code/language/js/es6/fp.html","title":"å‡½æ•°å¼ç¼–ç¨‹","lang":"zh-CN","frontmatter":{"icon":"shell","author":"é˜®ä¸€å³°","date":"2019-10-21T00:00:00.000Z","category":["JavaScript"],"copyright":"æ­¤éƒ¨åˆ†åšå®¢é‡‡ç”¨ <a href=\\"http://creativecommons.org/licenses/by-nc/4.0/\\" rel=\\"noopener noreferrer\\" target=\\"_blank\\">â€œä¿æŒç½²åâ€”éå•†ç”¨â€åˆ›æ„å…±äº«4.0è®¸å¯è¯</a>","summary":"å‡½æ•°å¼ç¼–ç¨‹ JavaScript è¯­è¨€ä»ä¸€è¯ç”Ÿï¼Œå°±å…·æœ‰å‡½æ•°å¼ç¼–ç¨‹çš„çƒ™å°ã€‚å®ƒå°†å‡½æ•°ä½œä¸ºä¸€ç§ç‹¬ç«‹çš„æ•°æ®ç±»å‹ï¼Œä¸å…¶ä»–æ•°æ®ç±»å‹å¤„äºå®Œå…¨å¹³ç­‰çš„åœ°ä½ã€‚åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œæ‚¨å¯ä»¥é‡‡ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹ã€‚æœ‰äººç”šè‡³è¯´ï¼ŒJavaScript æ˜¯æœ‰å²ä»¥æ¥ç¬¬ä¸€ç§è¢«å¤§è§„æ¨¡é‡‡ç”¨çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚ ES6 çš„ç§ç§æ–°å¢åŠŸèƒ½ï¼Œä½¿å¾—å‡½æ•°å¼ç¼–ç¨‹å˜å¾—æ›´æ–¹ä¾¿ã€æ›´å¼ºå¤§ã€‚æœ¬","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/code/language/js/es6/fp.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğºğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"å‡½æ•°å¼ç¼–ç¨‹"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-06-27T09:33:50.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"é˜®ä¸€å³°"}],["meta",{"property":"article:published_time","content":"2019-10-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-06-27T09:33:50.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"æŸ¯é‡ŒåŒ–","slug":"æŸ¯é‡ŒåŒ–","children":[]},{"level":2,"title":"å‡½æ•°åˆæˆ","slug":"å‡½æ•°åˆæˆ","children":[]},{"level":2,"title":"å‚æ•°å€’ç½®","slug":"å‚æ•°å€’ç½®","children":[]},{"level":2,"title":"æ‰§è¡Œè¾¹ç•Œ","slug":"æ‰§è¡Œè¾¹ç•Œ","children":[]},{"level":2,"title":"é˜Ÿåˆ—æ“ä½œ","slug":"é˜Ÿåˆ—æ“ä½œ","children":[]},{"level":2,"title":"åˆå¹¶æ“ä½œ","slug":"åˆå¹¶æ“ä½œ","children":[]},{"level":2,"title":"é…å¯¹æ“ä½œ","slug":"é…å¯¹æ“ä½œ","children":[]}],"git":{"createdTime":1656322430000,"updatedTime":1656322430000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":4.21,"words":1263},"filePathRelative":"code/language/js/es6/fp.md","localizedDate":"2019å¹´10æœˆ21æ—¥"}')}}]);