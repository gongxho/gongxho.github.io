"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[86768],{33771:(e,o,c)=>{c.r(o),c.d(o,{default:()=>P});var n=c(78e3);const t={class:"custom-container warning"},a=(0,n._)("p",{class:"custom-container-title"},"æ³¨æ„",-1),d=(0,n._)("p",null,[(0,n.Uk)("åœ¨å¼€å§‹æœ¬ç« å­¦ä¹ å‰ï¼Œä½ éœ€è¦äº†è§£"),(0,n._)("code",null,"Hooks"),(0,n.Uk)("çš„åŸºæœ¬ç”¨æ³•ã€‚")],-1),s=(0,n.Uk)("å¦‚æœä½ è¿˜æœªä½¿ç”¨è¿‡"),p=(0,n._)("code",null,"Hooks",-1),r=(0,n.Uk)("ï¼Œå¯ä»¥ä»"),l={href:"https://zh-hans.reactjs.org/docs/hooks-intro.html",target:"_blank",rel:"noopener noreferrer"},i=(0,n.Uk)("å®˜æ–¹æ–‡æ¡£"),u=(0,n.Uk)("å¼€å§‹ã€‚"),k=(0,n.Uk)("ä½ å¯ä»¥ä»"),m={href:"https://zh-hans.reactjs.org/docs/hooks-intro.html#motivation",target:"_blank",rel:"noopener noreferrer"},h=(0,n.Uk)("è¿™é‡Œ"),g=(0,n.Uk)("äº†è§£"),f=(0,n._)("code",null,"Hooks",-1),_=(0,n.Uk)("çš„è®¾è®¡åŠ¨æœºã€‚ä½œä¸ºä¸€å"),b=(0,n._)("code",null,"æ¡†æ¶ä½¿ç”¨è€…",-1),H=(0,n.Uk)("ï¼Œäº†è§£"),C=(0,n._)("code",null,"è®¾è®¡åŠ¨æœº",-1),v=(0,n.Uk)("å¯¹äºæˆ‘ä»¬æ—¥å¸¸å¼€å‘å°±è¶³å¤Ÿäº†ã€‚"),U=(0,n.uE)('<p>ä½†æ˜¯ï¼Œä¸ºäº†æ›´å¥½çš„ç†è§£<code>Hooks</code>çš„<code>æºç æ¶æ„</code>ï¼Œæˆ‘ä»¬éœ€è¦è½¬æ¢èº«ä»½ï¼Œä»¥<code>æ¡†æ¶å¼€å‘è€…</code>çš„è§’åº¦æ¥çœ‹å¾…<code>Hooks</code>çš„<code>è®¾è®¡ç†å¿µ</code>ã€‚</p><h2 id="ä»logoèŠèµ·" tabindex="-1"><a class="header-anchor" href="#ä»logoèŠèµ·" aria-hidden="true">#</a> ä»LOGOèŠèµ·</h2>',2),R=["src"],y=(0,n.uE)('<p><code>React</code> <code>LOGO</code>çš„å›¾æ¡ˆæ˜¯ä»£è¡¨<code>åŸå­</code>ï¼ˆ<code>atom</code>ï¼‰çš„ç¬¦å·ã€‚ä¸–é—´ä¸‡ç‰©ç”±<code>åŸå­</code>ç»„æˆï¼Œ<code>åŸå­</code>çš„<code>ç±»å‹</code>ä¸<code>å±æ€§</code>å†³å®šäº†äº‹ç‰©çš„å¤–è§‚ä¸è¡¨ç°ã€‚</p><p>åŒæ ·ï¼Œåœ¨<code>React</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†<code>UI</code>æ‹†åˆ†ä¸ºå¾ˆå¤šç‹¬ç«‹çš„å•å…ƒï¼Œæ¯ä¸ªå•å…ƒè¢«ç§°ä¸º<code>Component</code>ã€‚è¿™äº›<code>Component</code>çš„<code>å±æ€§</code>ä¸<code>ç±»å‹</code>å†³å®šäº†<code>UI</code>çš„å¤–è§‚ä¸è¡¨ç°ã€‚</p><p>è®½åˆºçš„æ˜¯ï¼Œ<code>åŸå­</code>åœ¨å¸Œè…Šè¯­ä¸­çš„æ„æ€ä¸º<code>ä¸å¯åˆ†å‰²çš„</code>ï¼ˆ<code>indivisible</code>ï¼‰ï¼Œä½†éšåç§‘å­¦å®¶åœ¨åŸå­ä¸­å‘ç°äº†æ›´å°çš„ç²’å­ â€”â€” ç”µå­ï¼ˆ<code>electron</code>ï¼‰ã€‚ç”µå­å¯ä»¥å¾ˆå¥½çš„è§£é‡Š<code>åŸå­</code>æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p>åœ¨<code>React</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¯´<code>ClassComponent</code>æ˜¯ä¸€ç±»<code>åŸå­</code>ã€‚</p><p>ä½†å¯¹äº<code>Hooks</code>æ¥è¯´ï¼Œä¸å…¶è¯´æ˜¯ä¸€ç±»<code>åŸå­</code>ï¼Œä¸å¦‚è¯´ä»–æ˜¯æ›´è´´è¿‘äº‹ç‰©<code>è¿è¡Œè§„å¾‹</code>çš„<code>ç”µå­</code>ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œ<code>React</code>çš„æ¶æ„éµå¾ª<code>schedule - render - commit</code>çš„è¿è¡Œæµç¨‹ï¼Œè¿™ä¸ªæµç¨‹æ˜¯<code>React</code>ä¸–ç•Œæœ€åº•å±‚çš„<code>è¿è¡Œè§„å¾‹</code>ã€‚</p><p><code>ClassComponent</code>ä½œä¸º<code>React</code>ä¸–ç•Œçš„<code>åŸå­</code>ï¼Œä»–çš„<code>ç”Ÿå‘½å‘¨æœŸ</code>ï¼ˆ<code>componentWillXXX</code>/<code>componentDidXXX</code>ï¼‰æ˜¯ä¸ºäº†ä»‹å…¥<code>React</code>çš„è¿è¡Œæµç¨‹è€Œå®ç°çš„æ›´ä¸Šå±‚æŠ½è±¡ï¼Œè¿™ä¹ˆåšæ˜¯ä¸ºäº†æ–¹ä¾¿<code>æ¡†æ¶ä½¿ç”¨è€…</code>æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚</p><p>ç›¸æ¯”äº<code>ClassComponent</code>çš„æ›´ä¸Šå±‚æŠ½è±¡ï¼Œ<code>Hooks</code>åˆ™æ›´è´´è¿‘<code>React</code>å†…éƒ¨è¿è¡Œçš„å„ç§æ¦‚å¿µï¼ˆ<code>state</code> | <code>context</code> | <code>life-cycle</code>ï¼‰ã€‚</p><p>ä½œä¸ºä½¿ç”¨<code>React</code>æŠ€æœ¯æ ˆçš„å¼€å‘è€…ï¼Œå½“æˆ‘ä»¬åˆæ¬¡å­¦ä¹ <code>Hooks</code>æ—¶ï¼Œä¸ç®¡æ˜¯å®˜æ–¹æ–‡æ¡£è¿˜æ˜¯èº«è¾¹æœ‰ç»éªŒçš„åŒäº‹ï¼Œæ€»ä¼šæ‹¿<code>ClassComponent</code>çš„ç”Ÿå‘½å‘¨æœŸæ¥ç±»æ¯”<code>Hooks API</code>çš„æ‰§è¡Œæ—¶æœºã€‚</p><p>è¿™å›ºç„¶æ˜¯å¾ˆå¥½çš„ä¸Šæ‰‹æ–¹å¼ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç†Ÿç»ƒè¿ç”¨<code>Hooks</code>æ—¶ï¼Œå°±ä¼šå‘ç°ï¼Œè¿™ä¸¤è€…çš„æ¦‚å¿µæœ‰å¾ˆå¤šå‰²è£‚æ„Ÿï¼Œå¹¶ä¸æ˜¯åŒä¸€æŠ½è±¡å±‚æ¬¡å¯ä»¥äº’ç›¸æ›¿ä»£çš„æ¦‚å¿µã€‚</p><p>æ¯”å¦‚ï¼šæ›¿ä»£<code>componentWillReceiveProps</code>çš„<code>Hooks</code>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å¯èƒ½æœ‰äº›åŒå­¦ä¼šå›ç­”ï¼Œæ˜¯<code>useEffect</code>ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token function">useEffect</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;something updated&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">.</span>something<span class="token punctuation">]</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯<code>componentWillReceiveProps</code>æ˜¯åœ¨<code>renderé˜¶æ®µ</code>æ‰§è¡Œï¼Œè€Œ<code>useEffect</code>æ˜¯åœ¨<code>commité˜¶æ®µ</code>å®Œæˆæ¸²æŸ“åå¼‚æ­¥æ‰§è¡Œã€‚</p>',14),O=(0,n.Uk)("è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®ä½ æ›´å¥½ç†è§£"),w=(0,n._)("code",null,"componentWillReceiveProps",-1),x=(0,n.Uk)("ï¼š"),D={href:"https://juejin.im/post/5f05a3e25188252e5c576cdb",target:"_blank",rel:"noopener noreferrer"},j=(0,n.Uk)("æ·±å…¥æºç å‰–æcomponentWillXXXä¸ºä»€ä¹ˆUNSAFE"),E=(0,n._)("p",null,[(0,n.Uk)("æ‰€ä»¥ï¼Œä»æºç è¿è¡Œè§„å¾‹çš„è§’åº¦çœ‹å¾…"),(0,n._)("code",null,"Hooks"),(0,n.Uk)("ï¼Œå¯èƒ½æ˜¯æ›´å¥½çš„è§’åº¦ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸Šæ–‡è¯´"),(0,n._)("code",null,"Hooks"),(0,n.Uk)("æ˜¯"),(0,n._)("code",null,"React"),(0,n.Uk)("ä¸–ç•Œçš„"),(0,n._)("code",null,"ç”µå­"),(0,n.Uk)("è€Œä¸æ˜¯"),(0,n._)("code",null,"åŸå­"),(0,n.Uk)("çš„åŸå› ã€‚")],-1),W=(0,n.Uk)("ä»¥ä¸Šè§è§£å‚è€ƒè‡ª"),X={href:"https://www.youtube.com/watch?v=dpw9EHDh2bM&feature=youtu.be",target:"_blank",rel:"noopener noreferrer"},L=(0,n.Uk)("React Core Team Danåœ¨ React Conf2018çš„æ¼”è®²"),z=(0,n.uE)('<h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p><code>Concurrent Mode</code>æ˜¯<code>React</code>æœªæ¥çš„å‘å±•æ–¹å‘ï¼Œè€Œ<code>Hooks</code>æ˜¯èƒ½å¤Ÿæœ€å¤§é™åº¦å‘æŒ¥<code>Concurrent Mode</code>æ½œåŠ›çš„<code>Component</code>æ„å»ºæ–¹å¼ã€‚</p><p>æ­£å¦‚Danåœ¨<code>React Conf 2018</code>æ¼”è®²ç»“å°¾æ‰€è¯´ï¼šä½ å¯ä»¥ä»<code>React</code>çš„<code>LOGO</code>ä¸­çœ‹åˆ°è¿™äº›å›´ç»•ç€<code>æ ¸å¿ƒ</code>çš„<code>ç”µå­é£è¡Œè½¨é“</code>ï¼Œ<code>Hooks</code>å¯èƒ½ä¸€ç›´å°±åœ¨å…¶ä¸­ã€‚</p>',3),G={},P=(0,c(13860).Z)(G,[["render",function(e,o){const c=(0,n.up)("ExternalLinkIcon");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",t,[a,d,(0,n._)("p",null,[s,p,r,(0,n._)("a",l,[i,(0,n.Wm)(c)]),u])]),(0,n._)("p",null,[k,(0,n._)("a",m,[h,(0,n.Wm)(c)]),g,f,_,b,H,C,v]),U,(0,n._)("img",{src:e.$withBase("/img/logo.png"),alt:"LOGO"},null,8,R),y,(0,n._)("blockquote",null,[(0,n._)("p",null,[O,w,x,(0,n._)("a",D,[j,(0,n.Wm)(c)])])]),E,(0,n._)("blockquote",null,[(0,n._)("p",null,[W,(0,n._)("a",X,[L,(0,n.Wm)(c)])])]),(0,n.kq)(' ## Hooksè®¾è®¡åŠ¨æœº\n\né‚£ä¹ˆçœŸçš„æœ‰`Hooks`èƒ½åšè€Œ`ClassComponent`æ— æ³•å®ç°çš„`feature`ä¹ˆï¼Ÿ\n\næ˜¯çš„ã€‚\n\nè®©æˆ‘ä»¬å†æ¥çœ‹çœ‹`React`è€—æ—¶ä¸‰å¹´é‡æ„å®Œæˆçš„`Fiberç»“æ„`ã€‚åœ¨ä¹‹å‰çš„ç« èŠ‚æˆ‘ä»¬è®²è¿‡ï¼Œè¿™æ¬¡é‡æ„çš„ä¸€å¤§ç›®çš„æ˜¯**ä½¿æ›´æ–°å¯ä»¥å¼‚æ­¥æ‰§è¡Œå¹¶ä¸”å¯ä¸­æ–­**ã€‚\n\nç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€å¤§ç›®çš„ï¼š**ä½¿åŒä¸€ç»„ä»¶åœ¨åŒä¸€æ—¶é—´å¯ä»¥æ‹¥æœ‰å¤šä¸ªçŠ¶æ€ï¼Œå³åŒä¸€ä¸ªç»„ä»¶å¯ä»¥æ‹¥æœ‰å¤šæ¡æ—¶é—´çº¿**ã€‚\n\n<img :src="$withBase(\'/img/hooks-mental.png\')" alt="hooksè®¾è®¡ç†å¿µ">\n\n> [React Core Team Sebastianè°ˆHooksè®¾è®¡åŠ¨æœº](https://twitter.com/sebmarkbage/status/1084539728743956481)\n\n`fiber`å¯ä»¥ç›´è¯‘ä¸º`å…‰çº¤`ã€‚\n\n<img :src="$withBase(\'/img/lightfiber.jpg\')" alt="fiber">\n\nå¯ä»¥çœ‹åˆ°ï¼Œä¸€æŸ`å…‰çº¤`å†…éƒ¨å­˜åœ¨å¤šæŸåŒæ—¶å·¥ä½œçš„ç»ç’ƒèŠ¯ã€‚åœ¨`React`ä¸­ï¼Œæ¯æ¡ç»ç’ƒèŠ¯ä»£è¡¨ä¸€ä¸ª`Component`çš„æ—¶é—´çº¿ã€‚\n\nç”±äº`ClassComponent`éµå¾ª`OOP`åŸåˆ™ï¼Œ`é€»è¾‘`å’Œ`çŠ¶æ€`è€¦åˆåœ¨`å®ä¾‹`å†…éƒ¨ï¼Œæ— æ³•åœ¨åŒä¸€æ—¶é—´æ‹¥æœ‰å¤šä¸ª`çŠ¶æ€`ï¼ˆå³åŒä¸€æ—¶é—´åªå­˜åœ¨ä¸€ä¸ª`this.state`ï¼‰ã€‚\n\nå¯¹äº`Hooks`æ¥è¯´ï¼Œ`FunctionComponent`å¥‘åˆ`FP`çš„ç¼–ç¨‹æ€æƒ³ï¼ˆå³`æ— çŠ¶æ€`ï¼‰ï¼Œæ›´æ–°ç»„ä»¶æ—¶`Hooks`çš„`çŠ¶æ€`ä¿å­˜åœ¨`é—­åŒ…`ä¸­ã€‚æ¢è¨€ä¹‹ï¼ŒåŒä¸€`FunctionComponent`åœ¨åŒä¸€æ—¶é—´å¯ä»¥æ‹¥æœ‰ä¿å­˜åœ¨ä¸åŒ`é—­åŒ…`ä¸­çš„å¤šä¸ª`çŠ¶æ€`ã€‚\n\n::: details å¤šæ¡æ—¶é—´çº¿ Demo\n\nä½ å¯ä»¥ä½¿ç”¨[useDeferredValue](https://zh-hans.reactjs.org/docs/concurrent-mode-reference.html#usedeferredvalue)ä½¿åŒä¸€ç»„ä»¶çš„æŸä¸ª`çŠ¶æ€`åœ¨åŒä¸€æ—¶é—´æ‹¥æœ‰å¤šæ¡æ—¶é—´çº¿ã€‚\n\nä¸åŒæ—¶é—´çº¿é‡åˆçš„æ—¶é—´è§†**ç”¨æˆ·è®¾å¤‡çš„æ€§èƒ½**ä¸åŒè€Œä¸åŒã€‚\n\nåœ¨Demoä¸­ï¼Œä½ å¯ä»¥ä»æ§åˆ¶å°çœ‹åˆ°ä¸åŒ`çŠ¶æ€`çš„`å€¼`ä¸`æ›´æ–°æ—¶é—´`\n\n[Demo](https://codesandbox.io/s/friendly-bush-hk5co)\n\n::: '),z])}]])},13860:(e,o)=>{o.Z=(e,o)=>{const c=e.__vccOpts||e;for(const[e,n]of o)c[e]=n;return c}},52349:(e,o,c)=>{c.r(o),c.d(o,{data:()=>n});const n=JSON.parse('{"key":"v-c8d12a8c","path":"/react/hooks/prepare.html","title":"Hooksç†å¿µ","lang":"zh-CN","frontmatter":{"title":"Hooksç†å¿µ","author":"BetaSu","tag":["React"],"summary":"æ³¨æ„ åœ¨å¼€å§‹æœ¬ç« å­¦ä¹ å‰ï¼Œä½ éœ€è¦äº†è§£Hooksçš„åŸºæœ¬ç”¨æ³•ã€‚ å¦‚æœä½ è¿˜æœªä½¿ç”¨è¿‡Hooksï¼Œå¯ä»¥ä»å®˜æ–¹æ–‡æ¡£å¼€å§‹ã€‚ ä½ å¯ä»¥ä»è¿™é‡Œäº†è§£Hooksçš„è®¾è®¡åŠ¨æœºã€‚ä½œä¸ºä¸€åæ¡†æ¶ä½¿ç”¨è€…ï¼Œäº†è§£è®¾è®¡åŠ¨æœºå¯¹äºæˆ‘ä»¬æ—¥å¸¸å¼€å‘å°±è¶³å¤Ÿäº†ã€‚ ä½†æ˜¯ï¼Œä¸ºäº†æ›´å¥½çš„ç†è§£Hooksçš„æºç æ¶æ„ï¼Œæˆ‘ä»¬éœ€è¦è½¬æ¢èº«ä»½ï¼Œä»¥æ¡†æ¶å¼€å‘è€…çš„è§’åº¦æ¥çœ‹å¾…Hooksçš„è®¾è®¡ç†å¿µã€‚ ä»LOGOèŠèµ· React LOGOçš„å›¾æ¡ˆæ˜¯ä»£","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/react/hooks/prepare.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğºğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"Hooksç†å¿µ"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-08-29T09:14:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"BetaSu"}],["meta",{"property":"article:tag","content":"React"}],["meta",{"property":"article:modified_time","content":"2022-08-29T09:14:21.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"ä»LOGOèŠèµ·","slug":"ä»logoèŠèµ·","children":[]},{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“","children":[]}],"git":{"createdTime":1661764461000,"updatedTime":1661764461000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":4.04,"words":1211},"filePathRelative":"react/hooks/prepare.md","localizedDate":"2022å¹´8æœˆ29æ—¥"}')}}]);