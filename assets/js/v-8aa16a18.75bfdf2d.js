"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[83956],{77890:(n,s,a)=>{a.r(s),a.d(s,{default:()=>l});var e=a(78e3);const i=[(0,e.uE)('<h1 id="å¼‚æ­¥ä»»åŠ¡" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥ä»»åŠ¡" aria-hidden="true">#</a> å¼‚æ­¥ä»»åŠ¡</h1><p>Bash è„šæœ¬æœ‰æ—¶å€™éœ€è¦åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚é€šå¸¸è¿™æ¶‰åŠåˆ°å¯åŠ¨ä¸€ä¸ªè„šæœ¬ï¼Œä¾æ¬¡ï¼Œå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå­è„šæœ¬æ¥æ‰§è¡Œé¢å¤–çš„ä»»åŠ¡ï¼Œè€Œçˆ¶è„šæœ¬ç»§ç»­è¿è¡Œã€‚ç„¶è€Œï¼Œå½“ä¸€ç³»åˆ—è„šæœ¬ ä»¥è¿™ç§æ–¹å¼è¿è¡Œæ—¶ï¼Œè¦ä¿æŒçˆ¶å­è„šæœ¬ä¹‹é—´åè°ƒå·¥ä½œï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè‹¥çˆ¶è„šæœ¬æˆ–å­è„šæœ¬ä¾èµ–äºå¦ä¸€æ–¹ï¼Œå¹¶ä¸” ä¸€ä¸ªè„šæœ¬å¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªè„šæœ¬ç»“æŸä»»åŠ¡ä¹‹åï¼Œæ‰èƒ½å®Œæˆå®ƒè‡ªå·±çš„ä»»åŠ¡ï¼Œè¿™åº”è¯¥æ€ä¹ˆåŠ?</p><p>bash æœ‰ä¸€ä¸ªå†…ç½®å‘½ä»¤ï¼Œèƒ½å¸®åŠ©ç®¡ç†è¯¸å¦‚æ­¤ç±»çš„å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ã€‚wait å‘½ä»¤å¯¼è‡´ä¸€ä¸ªçˆ¶è„šæœ¬æš‚åœè¿è¡Œï¼Œç›´åˆ°ä¸€ä¸ª ç‰¹å®šçš„è¿›ç¨‹(ä¾‹å¦‚ï¼Œå­è„šæœ¬)è¿è¡Œç»“æŸã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å°†æ¼”ç¤ºä¸€ä¸‹ wait å‘½ä»¤çš„ç”¨æ³•ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªè„šæœ¬ï¼Œä¸€ä¸ªçˆ¶è„šæœ¬:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>\n<span class="token comment"># async-parent : Asynchronous execution demo (parent)</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Parent: starting...&quot;</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Parent: launching child script...&quot;</span>\nasync-child <span class="token operator">&amp;</span>\n<span class="token assign-left variable">pid</span><span class="token operator">=</span><span class="token variable">$!</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Parent: child (PID= <span class="token variable">$pid</span>) launched.&quot;</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Parent: continuing...&quot;</span>\n<span class="token function">sleep</span> <span class="token number">2</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Parent: pausing to wait for child to finish...&quot;</span>\n<span class="token function">wait</span> <span class="token variable">$pid</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Parent: child is finished. Continuing...&quot;</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Parent: parent is done. Exiting.&quot;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å’Œä¸€ä¸ªå­è„šæœ¬:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>\n<span class="token comment"># async-child : Asynchronous execution demo (child)</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Child: child is running...&quot;</span>\n<span class="token function">sleep</span> <span class="token number">5</span>\n<span class="token builtin class-name">echo</span> <span class="token string">&quot;Child: child is done. Exiting.&quot;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°è¯¥å­è„šæœ¬æ˜¯éå¸¸ç®€å•çš„ã€‚çœŸæ­£çš„æ“ä½œé€šè¿‡çˆ¶è„šæœ¬å®Œæˆã€‚åœ¨çˆ¶è„šæœ¬ä¸­ï¼Œå­è„šæœ¬è¢«å¯åŠ¨ï¼Œ å¹¶è¢«æ”¾ç½®åˆ°åå°è¿è¡Œã€‚å­è„šæœ¬çš„è¿›ç¨‹ ID è®°å½•åœ¨ pid å˜é‡ä¸­ï¼Œè¿™ä¸ªå˜é‡çš„å€¼æ˜¯ $! shell å‚æ•°çš„å€¼ï¼Œå®ƒæ€»æ˜¯ åŒ…å«æ”¾åˆ°åå°æ‰§è¡Œçš„æœ€åä¸€ä¸ªä»»åŠ¡çš„è¿›ç¨‹ ID å·ã€‚</p><p>çˆ¶è„šæœ¬ç»§ç»­ï¼Œç„¶åæ‰§è¡Œä¸€ä¸ªä»¥å­è¿›ç¨‹ PID ä¸ºå‚æ•°çš„ wait å‘½ä»¤ã€‚è¿™å°±å¯¼è‡´çˆ¶è„šæœ¬æš‚åœè¿è¡Œï¼Œç›´åˆ°å­è„šæœ¬é€€å‡ºï¼Œ æ„å‘³ç€çˆ¶è„šæœ¬ç»“æŸã€‚</p><p>å½“æ‰§è¡Œåï¼Œçˆ¶å­è„šæœ¬äº§ç”Ÿå¦‚ä¸‹è¾“å‡º:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ async-parent\nParent: starting<span class="token punctuation">..</span>.\nParent: launching child script<span class="token punctuation">..</span>.\nParent: child <span class="token punctuation">(</span>PID<span class="token operator">=</span> <span class="token number">6741</span><span class="token punctuation">)</span> launched.\nParent: continuing<span class="token punctuation">..</span>.\nChild: child is running<span class="token punctuation">..</span>.\nParent: pausing to <span class="token function">wait</span> <span class="token keyword">for</span> child to finish<span class="token punctuation">..</span>.\nChild: child is done. Exiting.\nParent: child is finished. Continuing<span class="token punctuation">..</span>.\nParent: parent is done. Exiting.\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',11)],t={},l=(0,a(13860).Z)(t,[["render",function(n,s){return(0,e.wg)(),(0,e.iD)("div",null,i)}]])},13860:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}},9435:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e=JSON.parse('{"key":"v-8aa16a18","path":"/linux/bash/archives/async.html","title":"å¼‚æ­¥ä»»åŠ¡","lang":"zh-CN","frontmatter":{"summary":"å¼‚æ­¥ä»»åŠ¡ Bash è„šæœ¬æœ‰æ—¶å€™éœ€è¦åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚é€šå¸¸è¿™æ¶‰åŠåˆ°å¯åŠ¨ä¸€ä¸ªè„šæœ¬ï¼Œä¾æ¬¡ï¼Œå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå­è„šæœ¬æ¥æ‰§è¡Œé¢å¤–çš„ä»»åŠ¡ï¼Œè€Œçˆ¶è„šæœ¬ç»§ç»­è¿è¡Œã€‚ç„¶è€Œï¼Œå½“ä¸€ç³»åˆ—è„šæœ¬ ä»¥è¿™ç§æ–¹å¼è¿è¡Œæ—¶ï¼Œè¦ä¿æŒçˆ¶å­è„šæœ¬ä¹‹é—´åè°ƒå·¥ä½œï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè‹¥çˆ¶è„šæœ¬æˆ–å­è„šæœ¬ä¾èµ–äºå¦ä¸€æ–¹ï¼Œå¹¶ä¸” ä¸€ä¸ªè„šæœ¬å¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªè„šæœ¬ç»“æŸä»»åŠ¡ä¹‹åï¼Œæ‰èƒ½å®Œæˆå®ƒè‡ªå·±çš„ä»»åŠ¡ï¼Œè¿™åº”è¯¥æ€ä¹ˆåŠ? bash æœ‰ä¸€ä¸ª","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/linux/bash/archives/async.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğºğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"å¼‚æ­¥ä»»åŠ¡"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-06-27T09:33:50.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-06-27T09:33:50.000Z"}]]},"excerpt":"","headers":[],"git":{"createdTime":1656322430000,"updatedTime":1656322430000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":1.75,"words":526},"filePathRelative":"linux/bash/archives/async.md","localizedDate":"2022å¹´6æœˆ27æ—¥"}')}}]);