"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[65609],{38603:(n,s,a)=>{a.r(s),a.d(s,{default:()=>r});var t=a(78e3);const e={class:"custom-container tip"},p=(0,t._)("p",{class:"custom-container-title"},"ç« èŠ‚è¿‡æ—¶",-1),o=(0,t.Uk)("ç›®å‰ï¼Œä¸€å¥—ä»£ç å·²ç»å¯ä»¥åœ¨å¤šä¸ªæµè§ˆå™¨ä¸Šè¿è¡Œè‰¯å¥½äº†ï¼Œæ‰€ä»¥ jQuery çš„æ„ä¹‰å¹¶ä¸å¤§ã€‚åœ¨ Node.js ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ "),c=(0,t.Uk)("axios"),i=(0,t.Uk)(" æ¥è¿›è¡Œè¯·æ±‚ã€‚"),l=(0,t.uE)('<p>ç”¨ JavaScript å†™ Ajax å‰é¢å·²ç»ä»‹ç»è¿‡äº†ï¼Œä¸»è¦é—®é¢˜å°±æ˜¯ä¸åŒæµè§ˆå™¨éœ€è¦å†™ä¸åŒä»£ç ï¼Œå¹¶ä¸”çŠ¶æ€å’Œé”™è¯¯å¤„ç†å†™èµ·æ¥å¾ˆéº»çƒ¦ã€‚</p><p>ç”¨ jQuery çš„ç›¸å…³å¯¹è±¡æ¥å¤„ç† AJAXï¼Œä¸ä½†ä¸éœ€è¦è€ƒè™‘æµè§ˆå™¨é—®é¢˜ï¼Œä»£ç ä¹Ÿèƒ½å¤§å¤§ç®€åŒ–ã€‚</p><h2 id="ajax" tabindex="-1"><a class="header-anchor" href="#ajax" aria-hidden="true">#</a> Ajax</h2><p>jQuery åœ¨å…¨å±€å¯¹è±¡ jQuery (ä¹Ÿå°±æ˜¯ <code>$</code>) ç»‘å®šäº† <code>ajax()</code> å‡½æ•°ï¼Œå¯ä»¥å¤„ç† Ajax è¯·æ±‚ã€‚<code>ajax(url, settings)</code> å‡½æ•°éœ€è¦æ¥æ”¶ä¸€ä¸ª URL å’Œä¸€ä¸ªå¯é€‰çš„ settings å¯¹è±¡ï¼Œå¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹:</p><ul><li><p>async: æ˜¯å¦å¼‚æ­¥æ‰§è¡Œ Ajax è¯·æ±‚ï¼Œé»˜è®¤ä¸º <code>true</code>ï¼›</p></li><li><p>method: å‘é€çš„ Methodï¼Œç¼ºçœä¸º <code>&#39;GET&#39;</code>ï¼Œå¯æŒ‡å®šä¸º <code>&#39;POST&#39;</code> ã€<code>&#39;PUT&#39;</code> ç­‰ï¼›</p></li><li><p>contentType: å‘é€ POST è¯·æ±‚çš„æ ¼å¼ï¼Œé»˜è®¤å€¼ä¸º <code>&#39;application/x-www-form-urlencoded; charset=UTF-8&#39;</code>ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸º <code>text/plain</code>ã€<code>application/json</code>ï¼›</p></li><li><p>data: å‘é€çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°ç»„æˆ– objectã€‚å¦‚æœæ˜¯ <code>GET</code> è¯·æ±‚ï¼Œdata å°†è¢«è½¬æ¢æˆ <code>query</code> é™„åŠ åˆ° URL ä¸Šï¼Œå¦‚æœæ˜¯ <code>POST</code> è¯·æ±‚ï¼Œæ ¹æ® <code>contentType</code> æŠŠ <code>data</code> åºåˆ—åŒ–æˆåˆé€‚çš„æ ¼å¼ï¼›</p></li><li><p>headers: å‘é€çš„é¢å¤–çš„ HTTP å¤´ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ª objectï¼›</p></li><li><p>dataType: æ¥æ”¶çš„æ•°æ®æ ¼å¼ï¼Œå¯ä»¥æŒ‡å®šä¸º <code>&#39;html&#39;</code>ã€<code>&#39;xml&#39;</code>ã€<code>&#39;json&#39;</code>ã€<code>&#39;text&#39;</code> ç­‰ï¼Œç¼ºçœæƒ…å†µä¸‹æ ¹æ®å“åº”çš„ <code>Content-Type</code> çŒœæµ‹ã€‚</p></li></ul><p>ä¸‹é¢çš„ä¾‹å­å‘é€ä¸€ä¸ª <code>GET</code> è¯·æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ª JSON æ ¼å¼çš„æ•°æ®:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> jqxhr <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">&quot;/api/categories&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// è¯·æ±‚å·²ç»å‘é€äº†</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸è¿‡ï¼Œå¦‚ä½•ç”¨å›è°ƒå‡½æ•°å¤„ç†è¿”å›çš„æ•°æ®å’Œå‡ºé”™æ—¶çš„å“åº”å‘¢?</p><p>è¿˜è®°å¾— Promise å¯¹è±¡å—? jQuery çš„ <code>jqXHR</code> å¯¹è±¡ç±»ä¼¼ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é“¾å¼å†™æ³•æ¥å¤„ç†å„ç§å›è°ƒ:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">ajaxLog</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> txt <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#test-response-text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  txt<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>txt<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\n&quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#test-response-text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> jqxhr <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">&quot;/api/categories&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">ajaxLog</span><span class="token punctuation">(</span><span class="token string">&quot;æˆåŠŸ, æ”¶åˆ°çš„æ•°æ®: &quot;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">,</span> status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">ajaxLog</span><span class="token punctuation">(</span><span class="token string">&quot;å¤±è´¥: &quot;</span> <span class="token operator">+</span> xhr<span class="token punctuation">.</span>status <span class="token operator">+</span> <span class="token string">&quot;, åŸå› : &quot;</span> <span class="token operator">+</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">ajaxLog</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚å®Œæˆ: æ— è®ºæˆåŠŸæˆ–å¤±è´¥éƒ½ä¼šè°ƒç”¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="get" tabindex="-1"><a class="header-anchor" href="#get" aria-hidden="true">#</a> get</h2><p>å¯¹å¸¸ç”¨çš„ Ajax æ“ä½œï¼ŒjQuery æä¾›äº†ä¸€äº›è¾…åŠ©æ–¹æ³•ã€‚ç”±äº GET è¯·æ±‚æœ€å¸¸è§ï¼Œæ‰€ä»¥ jQuery æä¾›äº† <code>get()</code> æ–¹æ³•ï¼Œå¯ä»¥è¿™ä¹ˆå†™:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> jqxhr <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/resource&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Bob Lee&quot;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬äºŒä¸ªå‚æ•°å¦‚æœæ˜¯ objectï¼ŒjQuery è‡ªåŠ¨æŠŠå®ƒå˜æˆ <code>query string</code> ç„¶ååŠ åˆ° URL åé¢ï¼Œå®é™…çš„ URL æ˜¯:</p><p><code>/path/to/resource?name=Bob%20Lee&amp;check=1</code></p><p>è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å…³å¿ƒå¦‚ä½•ç”¨ URL ç¼–ç å¹¶æ„é€ ä¸€ä¸ª <code>query string</code> äº†ã€‚</p><h2 id="post" tabindex="-1"><a class="header-anchor" href="#post" aria-hidden="true">#</a> post</h2><p><code>post()</code> å’Œ <code>get()</code> ç±»ä¼¼ï¼Œä½†æ˜¯ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤è¢«åºåˆ—åŒ–ä¸º <code>application/x-www-form-urlencoded</code>:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> jqxhr <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/resource&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Bob Lee&quot;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…æ„é€ çš„æ•°æ® <code>name=Bob%20Lee&amp;check=1</code> ä½œä¸º POST çš„ body è¢«å‘é€ã€‚</p><h2 id="getjson" tabindex="-1"><a class="header-anchor" href="#getjson" aria-hidden="true">#</a> getJSON</h2><p>ç”±äº JSON ç”¨å¾—è¶Šæ¥è¶Šæ™®éï¼Œæ‰€ä»¥ jQuery ä¹Ÿæä¾›äº† <code>getJSON()</code> æ–¹æ³•æ¥å¿«é€Ÿé€šè¿‡ GET è·å–ä¸€ä¸ª JSON å¯¹è±¡:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> jqxhr <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/resource&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Bob Lee&quot;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// dataå·²ç»è¢«è§£æä¸ºJSONå¯¹è±¡äº†</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®‰å…¨é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#å®‰å…¨é™åˆ¶" aria-hidden="true">#</a> å®‰å…¨é™åˆ¶</h2><p>jQuery çš„ Ajax å®Œå…¨å°è£…çš„æ˜¯ JavaScript çš„ Ajax æ“ä½œï¼Œæ‰€ä»¥å®ƒçš„å®‰å…¨é™åˆ¶å’Œå‰é¢è®²çš„ç”¨ JavaScript å†™ Ajax å®Œå…¨ä¸€æ ·ã€‚</p><p>å¦‚æœéœ€è¦ä½¿ç”¨ JSONPï¼Œå¯ä»¥åœ¨ <code>ajax()</code> ä¸­è®¾ç½® <code>jsonp: &#39;callback&#39;</code>ï¼Œè®© jQuery å®ç° JSONP è·¨åŸŸåŠ è½½æ•°æ®ã€‚</p><p>å…³äºè·¨åŸŸçš„è®¾ç½®è¯·å‚è€ƒæµè§ˆå™¨ Ajax ä¸€èŠ‚ä¸­ CORS çš„è®¾ç½®ã€‚</p>',27),u={},r=(0,a(13860).Z)(u,[["render",function(n,s){const a=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",e,[p,(0,t._)("p",null,[o,(0,t.Wm)(a,{to:"/code/node-js/package/axois.html"},{default:(0,t.w5)((()=>[c])),_:1}),i])]),(0,t.kq)(" more "),l])}]])},13860:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,t]of s)a[n]=t;return a}},99035:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t=JSON.parse('{"key":"v-93dfe636","path":"/code/website/jQuery/ajax.html","title":"AJAX","lang":"zh-CN","frontmatter":{"title":"AJAX","icon":"ajax","date":"2019-11-05T00:00:00.000Z","category":["jQuery"],"summary":"ç« èŠ‚è¿‡æ—¶\\nç›®å‰ï¼Œä¸€å¥—ä»£ç å·²ç»å¯ä»¥åœ¨å¤šä¸ªæµè§ˆå™¨ä¸Šè¿è¡Œè‰¯å¥½äº†ï¼Œæ‰€ä»¥ jQuery çš„æ„ä¹‰å¹¶ä¸å¤§ã€‚åœ¨ Node.js ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ axios æ¥è¿›è¡Œè¯·æ±‚ã€‚\\n\\n","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/code/website/jQuery/ajax.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğºğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"AJAX"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-06-27T09:33:50.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:published_time","content":"2019-11-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-06-27T09:33:50.000Z"}]]},"excerpt":"<div class=\\"custom-container tip\\"><p class=\\"custom-container-title\\">ç« èŠ‚è¿‡æ—¶</p>\\n<p>ç›®å‰ï¼Œä¸€å¥—ä»£ç å·²ç»å¯ä»¥åœ¨å¤šä¸ªæµè§ˆå™¨ä¸Šè¿è¡Œè‰¯å¥½äº†ï¼Œæ‰€ä»¥ jQuery çš„æ„ä¹‰å¹¶ä¸å¤§ã€‚åœ¨ Node.js ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <RouterLink to=\\"/code/node-js/package/axois.html\\">axios</RouterLink> æ¥è¿›è¡Œè¯·æ±‚ã€‚</p>\\n</div>\\n","headers":[{"level":2,"title":"Ajax","slug":"ajax","children":[]},{"level":2,"title":"get","slug":"get","children":[]},{"level":2,"title":"post","slug":"post","children":[]},{"level":2,"title":"getJSON","slug":"getjson","children":[]},{"level":2,"title":"å®‰å…¨é™åˆ¶","slug":"å®‰å…¨é™åˆ¶","children":[]}],"git":{"createdTime":1656322430000,"updatedTime":1656322430000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":2.81,"words":843},"filePathRelative":"code/website/jQuery/ajax.md","localizedDate":"2019å¹´11æœˆ5æ—¥"}')}}]);