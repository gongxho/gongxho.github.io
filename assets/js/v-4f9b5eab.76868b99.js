"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[96368],{17703:(n,s,a)=>{a.r(s),a.d(s,{default:()=>u});var e=a(60329);const o=(0,e._)("h1",{id:"virtual-dom",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#virtual-dom","aria-hidden":"true"},"#"),(0,e.Uk)(" Virtual DOM")],-1),p=(0,e._)("p",null,'Virtual DOM è¿™ä¸ªæ¦‚å¿µç›¸ä¿¡å¤§éƒ¨åˆ†äººéƒ½ä¸ä¼šé™Œç”Ÿï¼Œå®ƒäº§ç”Ÿçš„å‰ææ˜¯æµè§ˆå™¨ä¸­çš„ DOM æ˜¯å¾ˆâ€œæ˜‚è´µ"çš„ï¼Œä¸ºäº†æ›´ç›´è§‚çš„æ„Ÿå—ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„æŠŠä¸€ä¸ªç®€å•çš„ div å…ƒç´ çš„å±æ€§éƒ½æ‰“å°å‡ºæ¥ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š',-1),t=["src"],r=(0,e.uE)('<p>å¯ä»¥çœ‹åˆ°ï¼ŒçœŸæ­£çš„ DOM å…ƒç´ æ˜¯éå¸¸åºå¤§çš„ï¼Œå› ä¸ºæµè§ˆå™¨çš„æ ‡å‡†å°±æŠŠ DOM è®¾è®¡çš„éå¸¸å¤æ‚ã€‚å½“æˆ‘ä»¬é¢‘ç¹çš„å»åš DOM æ›´æ–°ï¼Œä¼šäº§ç”Ÿä¸€å®šçš„æ€§èƒ½é—®é¢˜ã€‚</p><p>è€Œ Virtual DOM å°±æ˜¯ç”¨ä¸€ä¸ªåŸç”Ÿçš„ JS å¯¹è±¡å»æè¿°ä¸€ä¸ª DOM èŠ‚ç‚¹ï¼Œæ‰€ä»¥å®ƒæ¯”åˆ›å»ºä¸€ä¸ª DOM çš„ä»£ä»·è¦å°å¾ˆå¤šã€‚åœ¨ Vue.js ä¸­ï¼ŒVirtual DOM æ˜¯ç”¨ <code>VNode</code> è¿™ä¹ˆä¸€ä¸ª Class å»æè¿°ï¼Œå®ƒæ˜¯å®šä¹‰åœ¨ <code>src/core/vdom/vnode.js</code> ä¸­çš„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">VNode</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">tag</span><span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">data</span><span class="token operator">:</span> VNodeData <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">text</span><span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">elm</span><span class="token operator">:</span> Node <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">ns</span><span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">context</span><span class="token operator">:</span> Component <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// rendered in this component&#39;s scope</span>\n  <span class="token literal-property property">key</span><span class="token operator">:</span> string <span class="token operator">|</span> number <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">componentOptions</span><span class="token operator">:</span> VNodeComponentOptions <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">componentInstance</span><span class="token operator">:</span> Component <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// component instance</span>\n  <span class="token literal-property property">parent</span><span class="token operator">:</span> VNode <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// component placeholder node</span>\n\n  <span class="token comment">// strictly internal</span>\n  <span class="token literal-property property">raw</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> <span class="token comment">// contains raw HTML? (server only)</span>\n  <span class="token literal-property property">isStatic</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> <span class="token comment">// hoisted static node</span>\n  <span class="token literal-property property">isRootInsert</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> <span class="token comment">// necessary for enter transition check</span>\n  <span class="token literal-property property">isComment</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> <span class="token comment">// empty comment placeholder?</span>\n  <span class="token literal-property property">isCloned</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> <span class="token comment">// is a cloned node?</span>\n  <span class="token literal-property property">isOnce</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> <span class="token comment">// is a v-once node?</span>\n  <span class="token literal-property property">asyncFactory</span><span class="token operator">:</span> Function <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// async component factory function</span>\n  <span class="token literal-property property">asyncMeta</span><span class="token operator">:</span> Object <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">isAsyncPlaceholder</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>\n  <span class="token literal-property property">ssrContext</span><span class="token operator">:</span> Object <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">fnContext</span><span class="token operator">:</span> Component <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// real context vm for functional nodes</span>\n  <span class="token literal-property property">fnOptions</span><span class="token operator">:</span> <span class="token operator">?</span>ComponentOptions<span class="token punctuation">;</span> <span class="token comment">// for SSR caching</span>\n  <span class="token literal-property property">fnScopeId</span><span class="token operator">:</span> <span class="token operator">?</span>string<span class="token punctuation">;</span> <span class="token comment">// functional scope id support</span>\n\n  <span class="token function">constructor</span> <span class="token punctuation">(</span>\n    <span class="token parameter">tag<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>\n    data<span class="token operator">?</span><span class="token operator">:</span> VNodeData<span class="token punctuation">,</span>\n    children<span class="token operator">?</span><span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span><span class="token punctuation">,</span>\n    text<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>\n    elm<span class="token operator">?</span><span class="token operator">:</span> Node<span class="token punctuation">,</span>\n    context<span class="token operator">?</span><span class="token operator">:</span> Component<span class="token punctuation">,</span>\n    componentOptions<span class="token operator">?</span><span class="token operator">:</span> VNodeComponentOptions<span class="token punctuation">,</span>\n    asyncFactory<span class="token operator">?</span><span class="token operator">:</span> Function</span>\n  <span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>tag <span class="token operator">=</span> tag\n    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data\n    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> children\n    <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text\n    <span class="token keyword">this</span><span class="token punctuation">.</span>elm <span class="token operator">=</span> elm\n    <span class="token keyword">this</span><span class="token punctuation">.</span>ns <span class="token operator">=</span> <span class="token keyword">undefined</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fnContext <span class="token operator">=</span> <span class="token keyword">undefined</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fnOptions <span class="token operator">=</span> <span class="token keyword">undefined</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fnScopeId <span class="token operator">=</span> <span class="token keyword">undefined</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>key\n    <span class="token keyword">this</span><span class="token punctuation">.</span>componentOptions <span class="token operator">=</span> componentOptions\n    <span class="token keyword">this</span><span class="token punctuation">.</span>componentInstance <span class="token operator">=</span> <span class="token keyword">undefined</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">undefined</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>raw <span class="token operator">=</span> <span class="token boolean">false</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isStatic <span class="token operator">=</span> <span class="token boolean">false</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isRootInsert <span class="token operator">=</span> <span class="token boolean">true</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isComment <span class="token operator">=</span> <span class="token boolean">false</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isCloned <span class="token operator">=</span> <span class="token boolean">false</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isOnce <span class="token operator">=</span> <span class="token boolean">false</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>asyncFactory <span class="token operator">=</span> asyncFactory\n    <span class="token keyword">this</span><span class="token punctuation">.</span>asyncMeta <span class="token operator">=</span> <span class="token keyword">undefined</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>isAsyncPlaceholder <span class="token operator">=</span> <span class="token boolean">false</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// DEPRECATED: alias for componentInstance for backwards compat.</span>\n  <span class="token comment">/* istanbul ignore next */</span>\n  <span class="token keyword">get</span> <span class="token function">child</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Component <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>componentInstance\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',3),l={href:"https://github.com/snabbdom/snabbdom",target:"_blank",rel:"noopener noreferrer"},c=(0,e._)("h2",{id:"æ€»ç»“",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#æ€»ç»“","aria-hidden":"true"},"#"),(0,e.Uk)(" æ€»ç»“")],-1),i=(0,e._)("p",null,"å…¶å® VNode æ˜¯å¯¹çœŸå® DOM çš„ä¸€ç§æŠ½è±¡æè¿°ï¼Œå®ƒçš„æ ¸å¿ƒå®šä¹‰æ— éå°±å‡ ä¸ªå…³é”®å±æ€§ï¼Œæ ‡ç­¾åã€æ•°æ®ã€å­èŠ‚ç‚¹ã€é”®å€¼ç­‰ï¼Œå…¶å®ƒå±æ€§éƒ½æ˜¯ç”¨æ¥æ‰©å±• VNode çš„çµæ´»æ€§ä»¥åŠå®ç°ä¸€äº›ç‰¹æ®Š feature çš„ã€‚ç”±äº VNode åªæ˜¯ç”¨æ¥æ˜ å°„åˆ°çœŸå® DOM çš„æ¸²æŸ“ï¼Œä¸éœ€è¦åŒ…å«æ“ä½œ DOM çš„æ–¹æ³•ï¼Œå› æ­¤å®ƒæ˜¯éå¸¸è½»é‡å’Œç®€å•çš„ã€‚",-1),d=(0,e._)("p",null,[(0,e.Uk)("Virtual DOM é™¤äº†å®ƒçš„æ•°æ®ç»“æ„çš„å®šä¹‰ï¼Œæ˜ å°„åˆ°çœŸå®çš„ DOM å®é™…ä¸Šè¦ç»å† VNode çš„ createã€diffã€patch ç­‰è¿‡ç¨‹ã€‚é‚£ä¹ˆåœ¨ Vue.js ä¸­ï¼ŒVNode çš„ create æ˜¯é€šè¿‡ä¹‹å‰æåˆ°çš„ "),(0,e._)("code",null,"createElement"),(0,e.Uk)(" æ–¹æ³•åˆ›å»ºçš„ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥åˆ†æè¿™éƒ¨åˆ†çš„å®ç°ã€‚")],-1),k={},u=(0,a(13860).Z)(k,[["render",function(n,s){const a=(0,e.up)("ExternalLinkIcon");return(0,e.wg)(),(0,e.iD)("div",null,[o,p,(0,e._)("img",{src:n.$withBase("/assets/dom.png")},null,8,t),r,(0,e._)("p",null,[(0,e.Uk)("å¯ä»¥çœ‹åˆ° Vue.js ä¸­çš„ Virtual DOM çš„å®šä¹‰è¿˜æ˜¯ç•¥å¾®å¤æ‚ä¸€äº›çš„ï¼Œå› ä¸ºå®ƒè¿™é‡ŒåŒ…å«äº†å¾ˆå¤š Vue.js çš„ç‰¹æ€§ã€‚è¿™é‡Œåƒä¸‡ä¸è¦è¢«è¿™äº›èŒ«èŒ«å¤šçš„å±æ€§å“åˆ°ï¼Œå®é™…ä¸Š Vue.js ä¸­ Virtual DOM æ˜¯å€Ÿé‰´äº†ä¸€ä¸ªå¼€æºåº“ "),(0,e._)("a",l,[(0,e.Uk)("snabbdom"),(0,e.Wm)(a)]),(0,e.Uk)(" çš„å®ç°ï¼Œç„¶ååŠ å…¥äº†ä¸€äº› Vue.js ç‰¹è‰²çš„ä¸œè¥¿ã€‚æˆ‘å»ºè®®å¤§å®¶å¦‚æœæƒ³æ·±å…¥äº†è§£ Vue.js çš„ Virtual DOM å‰ä¸å¦¨å…ˆé˜…è¯»è¿™ä¸ªåº“çš„æºç ï¼Œå› ä¸ºå®ƒæ›´åŠ ç®€å•å’Œçº¯ç²¹ã€‚")]),c,i,d])}]])},13860:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}},71534:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e=JSON.parse('{"key":"v-4f9b5eab","path":"/vue2/data-driven/virtual-dom.html","title":"Virtual DOM","lang":"zh-CN","frontmatter":{"author":"ustbhuangyi","summary":"Virtual DOM Virtual DOM è¿™ä¸ªæ¦‚å¿µç›¸ä¿¡å¤§éƒ¨åˆ†äººéƒ½ä¸ä¼šé™Œç”Ÿï¼Œå®ƒäº§ç”Ÿçš„å‰ææ˜¯æµè§ˆå™¨ä¸­çš„ DOM æ˜¯å¾ˆâ€œæ˜‚è´µ\\"çš„ï¼Œä¸ºäº†æ›´ç›´è§‚çš„æ„Ÿå—ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„æŠŠä¸€ä¸ªç®€å•çš„ div å…ƒç´ çš„å±æ€§éƒ½æ‰“å°å‡ºæ¥ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š å¯ä»¥çœ‹åˆ°ï¼ŒçœŸæ­£çš„ DOM å…ƒç´ æ˜¯éå¸¸åºå¤§çš„ï¼Œå› ä¸ºæµè§ˆå™¨çš„æ ‡å‡†å°±æŠŠ DOM è®¾è®¡çš„éå¸¸å¤æ‚ã€‚å½“æˆ‘ä»¬é¢‘ç¹çš„å»åš DOM æ›´æ–°ï¼Œä¼šäº§ç”Ÿä¸€å®šçš„æ€§èƒ½é—®é¢˜","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/vue2/data-driven/virtual-dom.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"Virtual DOM"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-08-29T09:14:21.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"ustbhuangyi"}],["meta",{"property":"article:modified_time","content":"2022-08-29T09:14:21.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“","children":[]}],"git":{"createdTime":1661764461000,"updatedTime":1661764461000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":2.36,"words":707},"filePathRelative":"vue2/data-driven/virtual-dom.md","localizedDate":"2022å¹´8æœˆ29æ—¥"}')}}]);