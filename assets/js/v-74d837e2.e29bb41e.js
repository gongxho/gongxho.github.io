"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[14195],{26825:(n,e,s)=>{s.r(e),s.d(e,{default:()=>i});var a=s(60329);const o=(0,a.uE)("<p>GitHub Actions çš„é…ç½®æ–‡ä»¶å«åš <code>workflow</code> æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„ <code>.github/workflows</code> ç›®å½•ã€‚</p><p><code>workflow</code> æ–‡ä»¶é‡‡ç”¨ <code>YAML</code> æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º <code>.yml</code>ï¼Œæ¯”å¦‚<code>foo.yml</code>ã€‚</p><p>ä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª <code>workflow</code> æ–‡ä»¶ã€‚GitHub åªè¦å‘ç° <code>.github/workflows</code> ç›®å½•é‡Œé¢æœ‰ <code>.yml</code> æ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚</p>",3),t=(0,a.uE)('<h2 id="å¸¸è§å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#å¸¸è§å­—æ®µ" aria-hidden="true">#</a> å¸¸è§å­—æ®µ</h2><p><code>workflow</code> æ–‡ä»¶çš„é…ç½®å­—æ®µéå¸¸å¤šã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬å­—æ®µã€‚</p><h3 id="name" tabindex="-1"><a class="header-anchor" href="#name" aria-hidden="true">#</a> name</h3><p><code>name</code> å­—æ®µæ˜¯ <code>workflow</code> çš„åç§°ã€‚å¦‚æœçœç•¥è¯¥å­—æ®µï¼Œé»˜è®¤ä¸ºå½“å‰ <code>workflow</code> çš„æ–‡ä»¶åã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> GitHub Actions Demo\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="on" tabindex="-1"><a class="header-anchor" href="#on" aria-hidden="true">#</a> on</h3><p><code>on</code> å­—æ®µæŒ‡å®šè§¦å‘ <code>workflow</code> çš„æ—¶æœºï¼Œé€šå¸¸æ˜¯æŸäº›äº‹ä»¶ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># æŒ‡å®š push äº‹ä»¶è§¦å‘ workflowã€‚</span>\n<span class="token key atrule">on</span><span class="token punctuation">:</span> push\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>on</code> å­—æ®µä¹Ÿå¯ä»¥æ˜¯äº‹ä»¶çš„æ•°ç»„ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># æŒ‡å®š push äº‹ä»¶æˆ– pull_request äº‹ä»¶éƒ½å¯ä»¥è§¦å‘ workflowã€‚</span>\n<span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">,</span> pull_request<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæ•´çš„äº‹ä»¶åˆ—è¡¨ï¼Œè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ é™¤äº†ä»£ç åº“äº‹ä»¶ï¼ŒGitHub Actions ä¹Ÿæ”¯æŒå¤–éƒ¨äº‹ä»¶è§¦å‘ï¼Œæˆ–è€…å®šæ—¶è¿è¡Œã€‚</p><h4 id="on-push-pull-request-tags-branches" tabindex="-1"><a class="header-anchor" href="#on-push-pull-request-tags-branches" aria-hidden="true">#</a> on.&lt;push|pull_request&gt;.&lt;tags|branches&gt;</h4><p>æŒ‡å®šè§¦å‘äº‹ä»¶æ—¶ï¼Œå¯ä»¥é™å®šåˆ†æ”¯æˆ–æ ‡ç­¾ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># æŒ‡å®šåªæœ‰ main åˆ†æ”¯å‘ç”Ÿ push äº‹ä»¶æ—¶ï¼Œæ‰ä¼šè§¦å‘ workflowã€‚</span>\n<span class="token key atrule">on</span><span class="token punctuation">:</span>\n  <span class="token key atrule">push</span><span class="token punctuation">:</span>\n    <span class="token key atrule">branches</span><span class="token punctuation">:</span>\n      <span class="token punctuation">-</span> main\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jobs" tabindex="-1"><a class="header-anchor" href="#jobs" aria-hidden="true">#</a> jobs</h3><p><code>workflow</code> æ–‡ä»¶çš„ä¸»ä½“æ˜¯ <code>jobs</code> å­—æ®µï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡ã€‚</p><p><code>jobs</code> å­—æ®µé‡Œé¢ï¼Œéœ€è¦å†™å‡ºæ¯ä¸€é¡¹ä»»åŠ¡çš„ <code>job_id</code>ï¼Œå…·ä½“åç§°è‡ªå®šä¹‰ã€‚</p><h4 id="jobs-job-id-name" tabindex="-1"><a class="header-anchor" href="#jobs-job-id-name" aria-hidden="true">#</a> jobs.&lt;job_id&gt;.name</h4><p><code>job_id</code> é‡Œé¢çš„ <code>name</code> å­—æ®µæ˜¯ä»»åŠ¡çš„è¯´æ˜(å¯å¡«å¯ä¸å¡«)ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">jobs</span><span class="token punctuation">:</span>\n  <span class="token key atrule">my_first_job</span><span class="token punctuation">:</span>\n    <span class="token key atrule">name</span><span class="token punctuation">:</span> My first job\n  <span class="token key atrule">my_second_job</span><span class="token punctuation">:</span>\n    <span class="token key atrule">name</span><span class="token punctuation">:</span> My second job\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç çš„ <code>jobs</code> å­—æ®µåŒ…å«ä¸¤é¡¹ä»»åŠ¡ï¼Œ<code>job_id</code> åˆ†åˆ«æ˜¯ <code>my_first_job</code> å’Œ <code>my_second_job</code>ã€‚</p><h4 id="jobs-job-id-needs" tabindex="-1"><a class="header-anchor" href="#jobs-job-id-needs" aria-hidden="true">#</a> jobs.&lt;job_id&gt;.needs</h4><p><code>needs</code> å­—æ®µæŒ‡å®šå½“å‰ä»»åŠ¡çš„ä¾èµ–å…³ç³»ï¼Œå³è¿è¡Œé¡ºåºã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># è¿™ä¸ª workflow çš„è¿è¡Œé¡ºåºä¾æ¬¡ä¸º: job1ã€job2ã€job3ã€‚</span>\n<span class="token key atrule">jobs</span><span class="token punctuation">:</span>\n  <span class="token key atrule">job1</span><span class="token punctuation">:</span>\n  <span class="token key atrule">job2</span><span class="token punctuation">:</span>\n    <span class="token key atrule">needs</span><span class="token punctuation">:</span> job1\n  <span class="token key atrule">job3</span><span class="token punctuation">:</span>\n    <span class="token key atrule">needs</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>job1<span class="token punctuation">,</span> job2<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="jobs-job-id-runs-on" tabindex="-1"><a class="header-anchor" href="#jobs-job-id-runs-on" aria-hidden="true">#</a> jobs.&lt;job_id&gt;.runs-on</h4><p><code>runs-on</code> å­—æ®µæŒ‡å®šè¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚ å®ƒæ˜¯<strong>å¿…å¡«å­—æ®µ</strong>ã€‚ç›®å‰å¯ç”¨çš„è™šæ‹Ÿæœºå¦‚ä¸‹ã€‚</p><p><code>ubuntu-latest</code>ï¼Œ<code>ubuntu-18.04</code> æˆ– <code>ubuntu-16.04</code></p><p><code>windows-latest</code>ï¼Œ<code>windows-2019</code> æˆ– <code>windows-2016</code></p><p><code>macOS-latest</code> æˆ– <code>macOS-10.14</code></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># ä»£ç æŒ‡å®šè™šæ‹Ÿæœºç¯å¢ƒä¸º ubuntu-18.04ã€‚</span>\n<span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span><span class="token number">18.04</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="jobs-job-id-steps" tabindex="-1"><a class="header-anchor" href="#jobs-job-id-steps" aria-hidden="true">#</a> jobs.&lt;job_id&gt;.steps</h4><p><code>steps</code> å­—æ®µæŒ‡å®šæ¯ä¸ª <code>Job</code> çš„è¿è¡Œæ­¥éª¤ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚æ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥æŒ‡å®šä»¥ä¸‹ä¸‰ä¸ªå­—æ®µã€‚</p><ul><li><code>jobs.&lt;job_id&gt;.steps.name</code>: æ­¥éª¤åç§°ã€‚</li><li><code>jobs.&lt;job_id&gt;.steps.run</code>: è¯¥æ­¥éª¤è¿è¡Œçš„å‘½ä»¤æˆ–è€… actionã€‚</li><li><code>jobs.&lt;job_id&gt;.steps.env</code>: è¯¥æ­¥éª¤æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ <code>workflow</code> æ–‡ä»¶çš„èŒƒä¾‹ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> Greeting from Mona\n<span class="token key atrule">on</span><span class="token punctuation">:</span> push\n\n<span class="token key atrule">jobs</span><span class="token punctuation">:</span>\n  <span class="token key atrule">my-job</span><span class="token punctuation">:</span>\n    <span class="token key atrule">name</span><span class="token punctuation">:</span> My Job\n    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest\n    <span class="token key atrule">steps</span><span class="token punctuation">:</span> <span class="token comment"># steps å­—æ®µåªåŒ…æ‹¬ä¸€ä¸ªæ­¥éª¤ã€‚è¯¥æ­¥éª¤å…ˆæ³¨å…¥å››ä¸ªç¯å¢ƒå˜é‡ï¼Œç„¶åæ‰§è¡Œä¸€æ¡ Bash å‘½ä»¤ã€‚</span>\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Print a greeting\n        <span class="token key atrule">env</span><span class="token punctuation">:</span>\n          <span class="token key atrule">MY_VAR</span><span class="token punctuation">:</span> Hi there<span class="token tag">!</span> My name is\n          <span class="token key atrule">FIRST_NAME</span><span class="token punctuation">:</span> Mona\n          <span class="token key atrule">MIDDLE_NAME</span><span class="token punctuation">:</span> The\n          <span class="token key atrule">LAST_NAME</span><span class="token punctuation">:</span> Octocat\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">\n          echo $MY_VAR $FIRST_NAME $MIDDLE_NAME $LAST_NAME.</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®˜æ–¹æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#å®˜æ–¹æ–‡æ¡£" aria-hidden="true">#</a> å®˜æ–¹æ–‡æ¡£</h2>',36),c={href:"https://docs.github.com/cn/actions/reference/workflow-syntax-for-github-actions",target:"_blank",rel:"noopener noreferrer"},l={},i=(0,s(13860).Z)(l,[["render",function(n,e){const s=(0,a.up)("ExternalLinkIcon");return(0,a.wg)(),(0,a.iD)("div",null,[o,(0,a.kq)(" more "),t,(0,a._)("p",null,[(0,a.Uk)("å…³äºå®Œæ•´çš„å·¥ä½œæµç¨‹è¯­æ³•ï¼Œè¯¦è§ "),(0,a._)("a",c,[(0,a.Uk)("GitHub æ“ä½œçš„å·¥ä½œæµç¨‹è¯­æ³•"),(0,a.Wm)(s)])])])}]])},13860:(n,e)=>{e.Z=(n,e)=>{const s=n.__vccOpts||n;for(const[n,a]of e)s[n]=a;return s}},17902:(n,e,s)=>{s.r(e),s.d(e,{data:()=>a});const a=JSON.parse('{"key":"v-74d837e2","path":"/code/github/actions/config.html","title":"Action é…ç½®","lang":"zh-CN","frontmatter":{"title":"Action é…ç½®","icon":"config","date":"2021-02-18T00:00:00.000Z","category":["GitHub"],"tag":["action","workflow"],"summary":"GitHub Actions çš„é…ç½®æ–‡ä»¶å«åš workflow æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„ .github/workflows ç›®å½•ã€‚\\nworkflow æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º .ymlï¼Œæ¯”å¦‚foo.ymlã€‚\\nä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflow æ–‡ä»¶ã€‚GitHub åªè¦å‘ç° .github/workflows ç›®å½•é‡Œé¢æœ‰ .yml æ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚\\n","head":[["meta",{"property":"og:url","content":"https://0808200.xyz/code/github/actions/config.html"}],["meta",{"property":"og:site_name","content":"ğ‘€ğ‘Ÿ.ğ‘”ğ‘œğ‘œğ‘”ğ‘¥â„"}],["meta",{"property":"og:title","content":"Action é…ç½®"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-06-27T09:33:50.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"action"}],["meta",{"property":"article:tag","content":"workflow"}],["meta",{"property":"article:published_time","content":"2021-02-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-06-27T09:33:50.000Z"}]]},"excerpt":"<p>GitHub Actions çš„é…ç½®æ–‡ä»¶å«åš <code v-pre>workflow</code> æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„ <code v-pre>.github/workflows</code> ç›®å½•ã€‚</p>\\n<p><code v-pre>workflow</code> æ–‡ä»¶é‡‡ç”¨ <code v-pre>YAML</code> æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º <code v-pre>.yml</code>ï¼Œæ¯”å¦‚<code v-pre>foo.yml</code>ã€‚</p>\\n<p>ä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª <code v-pre>workflow</code> æ–‡ä»¶ã€‚GitHub åªè¦å‘ç° <code v-pre>.github/workflows</code> ç›®å½•é‡Œé¢æœ‰ <code v-pre>.yml</code> æ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚</p>\\n","headers":[{"level":2,"title":"å¸¸è§å­—æ®µ","slug":"å¸¸è§å­—æ®µ","children":[{"level":3,"title":"name","slug":"name","children":[]},{"level":3,"title":"on","slug":"on","children":[]},{"level":3,"title":"jobs","slug":"jobs","children":[]}]},{"level":2,"title":"å®˜æ–¹æ–‡æ¡£","slug":"å®˜æ–¹æ–‡æ¡£","children":[]}],"git":{"createdTime":1656322430000,"updatedTime":1656322430000,"contributors":[{"name":"googxh","email":"gxh522@qq.com","commits":1}]},"readingTime":{"minutes":2.35,"words":706},"filePathRelative":"code/github/actions/config.md","localizedDate":"2021å¹´2æœˆ18æ—¥"}')}}]);